<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Loading Images | webpack surviveJS</title>
    <meta name="description" content="webpack SruriveJS">
    
    
    <link rel="preload" href="/webpack-book/assets/css/styles.e618464b.css" as="style"><link rel="preload" href="/webpack-book/assets/js/app.e618464b.js" as="script"><link rel="preload" href="/webpack-book/assets/js/34.0901960e.js" as="script"><link rel="prefetch" href="/webpack-book/assets/js/39.4de3484e.js"><link rel="prefetch" href="/webpack-book/assets/css/1.styles.45cc87d3.css"><link rel="prefetch" href="/webpack-book/assets/js/1.45cc87d3.js"><link rel="prefetch" href="/webpack-book/assets/js/2.4a0e8edb.js"><link rel="prefetch" href="/webpack-book/assets/js/3.4c05f671.js"><link rel="prefetch" href="/webpack-book/assets/js/4.c00bb4bb.js"><link rel="prefetch" href="/webpack-book/assets/js/5.6026fd36.js"><link rel="prefetch" href="/webpack-book/assets/js/6.3ddb0710.js"><link rel="prefetch" href="/webpack-book/assets/js/7.13be0be2.js"><link rel="prefetch" href="/webpack-book/assets/js/8.ab685c7d.js"><link rel="prefetch" href="/webpack-book/assets/js/9.4ec307e6.js"><link rel="prefetch" href="/webpack-book/assets/js/10.ce93540e.js"><link rel="prefetch" href="/webpack-book/assets/js/11.d07f2433.js"><link rel="prefetch" href="/webpack-book/assets/js/12.78921a69.js"><link rel="prefetch" href="/webpack-book/assets/js/13.3af73d6e.js"><link rel="prefetch" href="/webpack-book/assets/js/14.51d8e1c3.js"><link rel="prefetch" href="/webpack-book/assets/js/15.2478f68d.js"><link rel="prefetch" href="/webpack-book/assets/js/16.a1674f2e.js"><link rel="prefetch" href="/webpack-book/assets/js/17.08cb5d47.js"><link rel="prefetch" href="/webpack-book/assets/js/18.63a9d4ee.js"><link rel="prefetch" href="/webpack-book/assets/js/19.6ec78de6.js"><link rel="prefetch" href="/webpack-book/assets/js/20.448e928e.js"><link rel="prefetch" href="/webpack-book/assets/js/21.8aed75ba.js"><link rel="prefetch" href="/webpack-book/assets/js/22.442c5d65.js"><link rel="prefetch" href="/webpack-book/assets/js/23.ecb39720.js"><link rel="prefetch" href="/webpack-book/assets/js/24.f53b1026.js"><link rel="prefetch" href="/webpack-book/assets/js/25.91fac79b.js"><link rel="prefetch" href="/webpack-book/assets/js/26.f65132e8.js"><link rel="prefetch" href="/webpack-book/assets/js/27.78edbc75.js"><link rel="prefetch" href="/webpack-book/assets/js/28.7030a8db.js"><link rel="prefetch" href="/webpack-book/assets/js/29.c6fc4663.js"><link rel="prefetch" href="/webpack-book/assets/js/30.2cb421b5.js"><link rel="prefetch" href="/webpack-book/assets/js/31.575d8f9a.js"><link rel="prefetch" href="/webpack-book/assets/js/32.589855e2.js"><link rel="prefetch" href="/webpack-book/assets/js/33.bcbf13b9.js"><link rel="prefetch" href="/webpack-book/assets/js/35.77530cbe.js"><link rel="prefetch" href="/webpack-book/assets/js/36.6ca51425.js"><link rel="prefetch" href="/webpack-book/assets/js/37.e4f9173d.js"><link rel="prefetch" href="/webpack-book/assets/js/38.711f68a2.js"><link rel="prefetch" href="/webpack-book/assets/js/40.93ecfec2.js"><link rel="prefetch" href="/webpack-book/assets/js/41.207dedbe.js"><link rel="prefetch" href="/webpack-book/assets/js/42.7e2cbeb1.js"><link rel="prefetch" href="/webpack-book/assets/js/43.0a66033e.js"><link rel="prefetch" href="/webpack-book/assets/js/44.2e0f0bc1.js"><link rel="prefetch" href="/webpack-book/assets/js/45.7897a16a.js"><link rel="prefetch" href="/webpack-book/assets/js/46.573f427b.js"><link rel="prefetch" href="/webpack-book/assets/js/47.5a6cf832.js"><link rel="prefetch" href="/webpack-book/assets/js/48.2ae652cf.js"><link rel="prefetch" href="/webpack-book/assets/js/49.c1decf35.js"><link rel="prefetch" href="/webpack-book/assets/js/50.cb0ab30d.js"><link rel="prefetch" href="/webpack-book/assets/js/51.61c5bb22.js"><link rel="prefetch" href="/webpack-book/assets/js/52.9418d1bd.js"><link rel="prefetch" href="/webpack-book/assets/js/53.8fb3b3af.js"><link rel="prefetch" href="/webpack-book/assets/js/54.0b373f02.js"><link rel="prefetch" href="/webpack-book/assets/js/55.11cdb808.js"><link rel="prefetch" href="/webpack-book/assets/js/56.d30a62d6.js"><link rel="prefetch" href="/webpack-book/assets/js/57.80db98c6.js"><link rel="prefetch" href="/webpack-book/assets/js/58.170008c8.js"><link rel="prefetch" href="/webpack-book/assets/js/59.b8d33f82.js"><link rel="prefetch" href="/webpack-book/assets/js/60.bad2a4c0.js"><link rel="prefetch" href="/webpack-book/assets/js/61.8502ded7.js"><link rel="prefetch" href="/webpack-book/assets/js/62.2388773f.js"><link rel="prefetch" href="/webpack-book/assets/js/63.fd2ae4b4.js"><link rel="prefetch" href="/webpack-book/assets/js/64.e4a18972.js"><link rel="prefetch" href="/webpack-book/assets/js/65.1c6f2207.js"><link rel="prefetch" href="/webpack-book/assets/js/66.5ba4de03.js"><link rel="prefetch" href="/webpack-book/assets/js/67.6e5a522b.js"><link rel="prefetch" href="/webpack-book/assets/js/68.c3000811.js"><link rel="prefetch" href="/webpack-book/assets/js/69.df6a6b01.js"><link rel="prefetch" href="/webpack-book/assets/js/70.1e6f5177.js"><link rel="prefetch" href="/webpack-book/assets/js/71.9a00df76.js"><link rel="prefetch" href="/webpack-book/assets/js/72.ea1b395f.js"><link rel="prefetch" href="/webpack-book/assets/js/73.c8734858.js"><link rel="prefetch" href="/webpack-book/assets/js/74.24597070.js"><link rel="prefetch" href="/webpack-book/assets/js/75.b38bb75c.js"><link rel="prefetch" href="/webpack-book/assets/js/76.64d5107c.js"><link rel="prefetch" href="/webpack-book/assets/js/77.17ce9bc3.js"><link rel="prefetch" href="/webpack-book/assets/js/78.c1d50222.js"><link rel="prefetch" href="/webpack-book/assets/js/79.42c031ab.js"><link rel="prefetch" href="/webpack-book/assets/js/80.c83603fe.js"><link rel="prefetch" href="/webpack-book/assets/js/81.9dca7a45.js"><link rel="prefetch" href="/webpack-book/assets/js/82.bea2f876.js"><link rel="prefetch" href="/webpack-book/assets/js/83.5277ed35.js"><link rel="prefetch" href="/webpack-book/assets/js/84.9c43366f.js"><link rel="prefetch" href="/webpack-book/assets/js/85.2c3ed690.js"><link rel="prefetch" href="/webpack-book/assets/js/86.6ae8c813.js"><link rel="prefetch" href="/webpack-book/assets/js/87.790cef71.js"><link rel="prefetch" href="/webpack-book/assets/js/88.050a6bb5.js"><link rel="prefetch" href="/webpack-book/assets/js/89.a3623978.js"><link rel="prefetch" href="/webpack-book/assets/js/90.d72c8f89.js"><link rel="prefetch" href="/webpack-book/assets/js/91.b4c756d6.js"><link rel="prefetch" href="/webpack-book/assets/js/92.6e7255a5.js"><link rel="prefetch" href="/webpack-book/assets/js/93.ce39d5f0.js"><link rel="prefetch" href="/webpack-book/assets/js/94.81c4e5dd.js"><link rel="prefetch" href="/webpack-book/assets/js/95.6ffc2716.js"><link rel="prefetch" href="/webpack-book/assets/js/96.856815bd.js"><link rel="prefetch" href="/webpack-book/assets/js/97.c833f49f.js"><link rel="prefetch" href="/webpack-book/assets/js/98.6d8bae1f.js"><link rel="prefetch" href="/webpack-book/assets/js/99.4227e9fd.js"><link rel="prefetch" href="/webpack-book/assets/js/100.43748c66.js"><link rel="prefetch" href="/webpack-book/assets/js/101.7308ef4d.js"><link rel="prefetch" href="/webpack-book/assets/js/102.28698397.js"><link rel="prefetch" href="/webpack-book/assets/js/103.0ce8a887.js"><link rel="prefetch" href="/webpack-book/assets/js/104.3c76608e.js"><link rel="prefetch" href="/webpack-book/assets/js/105.26a54f8e.js"><link rel="prefetch" href="/webpack-book/assets/js/106.fd8b2560.js"><link rel="prefetch" href="/webpack-book/assets/js/107.67a9bbb3.js"><link rel="prefetch" href="/webpack-book/assets/js/108.a0674454.js"><link rel="prefetch" href="/webpack-book/assets/js/109.d32767db.js"><link rel="prefetch" href="/webpack-book/assets/js/110.832d1487.js"><link rel="prefetch" href="/webpack-book/assets/js/111.76840d88.js">
    <link rel="stylesheet" href="/webpack-book/assets/css/styles.e618464b.css"><link rel="stylesheet" href="/webpack-book/assets/css/1.styles.45cc87d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/webpack-book/en/" class="home-link router-link-active"><!----><span class="site-name">
      webpack surviveJS
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/loading/02_images.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/loading/02_images.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/webpack-book/en/" class="sidebar-link">webpack Book</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>guide</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>developing</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>styling</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>loading Assets</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/webpack-book/en/loading/01_loader_definitions.html" class="sidebar-link">Loader Definitions</a></li><li><a href="/webpack-book/en/loading/02_images.html" class="active sidebar-link">Loading Images</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#setting-up-url-loader" class="sidebar-link">Setting Up url-loader</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#setting-up-file-loader" class="sidebar-link">Setting Up file-loader</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#integrating-images-to-the-project" class="sidebar-link">Integrating Images to the Project</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#loading-svgs" class="sidebar-link">Loading SVGs</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#optimizing-images" class="sidebar-link">Optimizing Images</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#utilizing-srcset" class="sidebar-link">Utilizing srcset</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#loading-images-dynamically" class="sidebar-link">Loading Images Dynamically</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#loading-sprites" class="sidebar-link">Loading Sprites</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#using-placeholders" class="sidebar-link">Using Placeholders</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#getting-image-dimensions" class="sidebar-link">Getting Image Dimensions</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#referencing-to-images" class="sidebar-link">Referencing to Images</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#images-and-css-loader-source-map-gotcha" class="sidebar-link">Images and css-loader Source Map Gotcha</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/loading/02_images.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/webpack-book/en/loading/03_fonts.html" class="sidebar-link">Loading Fonts</a></li><li><a href="/webpack-book/en/loading/04_javascript.html" class="sidebar-link">Loading JavaScript</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>building</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>optimizing</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>output</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>techniques</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>extending</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>appendices</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="loading-images"><a href="#loading-images" aria-hidden="true" class="header-anchor">#</a> Loading Images</h1><p>HTTP/1 application can be made slow by loading a lot of small assets as each request comes with an overhead. HTTP/2 helps in this regard and changes the situation somewhat drastically. Till then you are stuck with different approaches. Webpack allows a few of these.</p><p>Webpack can inline assets by using <a href="https://www.npmjs.com/package/url-loader" target="_blank" rel="noopener noreferrer">url-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. It emits your images as base64 strings within your JavaScript bundles. The process decreases the number of requests needed while growing the bundle size. It's enough to use <em>url-loader</em> during development. You want to consider other alternatives for the production build, though.</p><p>Webpack gives control over the inlining process and can defer loading to <a href="https://www.npmjs.com/package/file-loader" target="_blank" rel="noopener noreferrer">file-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. <em>file-loader</em> outputs image files and returns paths to them instead of inlining. This technique works with other assets types, such as fonts, as you see in the later chapters.</p><h2 id="setting-up-url-loader"><a href="#setting-up-url-loader" aria-hidden="true" class="header-anchor">#</a> Setting Up <em>url-loader</em></h2><p><em>url-loader</em> is a good starting point and it's the perfect option for development purposes, as you don't have to care about the size of the resulting bundle. It comes with a <em>limit</em> option that can be used to defer image generation to <em>file-loader</em> after an absolute limit is reached. This way you can inline small files to your JavaScript bundles while generating separate files for the bigger ones.</p><p>If you use the limit option, you need to install both <em>url-loader</em> and <em>file-loader</em> to your project. Assuming you have configured your styles correctly, webpack resolves any <code>url()</code> statements your styling contains. You can point to the image assets through your JavaScript code as well.</p><p>In case the <code>limit</code> option is used, <em>url-loader</em> passes possible additional options to <em>file-loader</em> making it possible to configure its behavior further.</p><p>To load <em>.jpg</em> and <em>.png</em> files while inlining files below 25kB, you would have to set up a loader:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.(jpg|png)$/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loader<span class="token punctuation">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      limit<span class="token punctuation">:</span> <span class="token number">25000</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>T&gt; If you prefer to use another loader than <em>file-loader</em> as the <em>limit</em> is reached, set <code>fallback: &quot;some-loader&quot;</code>. Then webpack will resolve to that instead of the default.</p><h2 id="setting-up-file-loader"><a href="#setting-up-file-loader" aria-hidden="true" class="header-anchor">#</a> Setting Up <em>file-loader</em></h2><p>If you want to skip inlining altogether, you can use <em>file-loader</em> directly. The following setup customizes the resulting filename. By default, <em>file-loader</em> returns the MD5 hash of the file's contents with the original extension:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.(jpg|png)$/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    loader<span class="token punctuation">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      name<span class="token punctuation">:</span> <span class="token string">&quot;[path][name].[hash].[ext]&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>T&gt; If you want to output your images below a particular directory, set it up with <code>name: &quot;./images/[hash].[ext]&quot;</code>.</p><p>W&gt; Be careful not to apply both loaders on images at the same time! Use the <code>include</code> field for further control if <em>url-loader</em><code>limit</code> isn't enough.</p><h2 id="integrating-images-to-the-project"><a href="#integrating-images-to-the-project" aria-hidden="true" class="header-anchor">#</a> Integrating Images to the Project</h2><p>The ideas above can be wrapped in a small helper that can be incorporated into the book project. To get started, install the dependencies:</p><div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">npm</span> <span class="token function">install</span> file-loader url-loader --save-dev
</code></pre></div><p>Set up a function as below:</p><p><strong>webpack.parts.js</strong></p><div class="language-javascript extra-class"><pre class="language-javascript"><code>exports<span class="token punctuation">.</span><span class="token function-variable function">loadImages</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> include<span class="token punctuation">,</span> exclude<span class="token punctuation">,</span> options <span class="token punctuation">}</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.(png|jpg)$/</span><span class="token punctuation">,</span>
        include<span class="token punctuation">,</span>
        exclude<span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          loader<span class="token punctuation">:</span> <span class="token string">&quot;url-loader&quot;</span><span class="token punctuation">,</span>
          options<span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>To attach it to the configuration, adjust as follows. The configuration defaults to <em>url-loader</em> during development and uses both <em>url-loader</em> and <em>file-loader</em> in production to maintain smaller bundle sizes. <em>url-loader</em> uses <em>file-loader</em> implicitly when <code>limit</code> is set, and both have to be installed for the setup to work.</p><p><strong>webpack.config.js</strong></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> productionConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token operator">...</span>
leanpub<span class="token operator">-</span>start<span class="token operator">-</span>insert
  parts<span class="token punctuation">.</span><span class="token function">loadImages</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
    options<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      limit<span class="token punctuation">:</span> <span class="token number">15000</span><span class="token punctuation">,</span>
      name<span class="token punctuation">:</span> <span class="token string">&quot;[name].[ext]&quot;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
leanpub<span class="token operator">-</span>end<span class="token operator">-</span>insert
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> developmentConfig <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span><span class="token punctuation">[</span>
  <span class="token operator">...</span>
leanpub<span class="token operator">-</span>start<span class="token operator">-</span>insert
  parts<span class="token punctuation">.</span><span class="token function">loadImages</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
leanpub<span class="token operator">-</span>end<span class="token operator">-</span>insert
<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>To test that the setup works, download an image or generate it (<code>convert -size 100x100 gradient:blue logo.png</code>) and refer to it from the project:</p><p><strong>src/main.css</strong></p><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">body</span> <span class="token punctuation">{</span>
  <span class="token property">background</span><span class="token punctuation">:</span> cornsilk<span class="token punctuation">;</span>
leanpub-start-insert
  <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(&quot;./logo.png&quot;)</span><span class="token punctuation">;</span>
  <span class="token property">background-repeat</span><span class="token punctuation">:</span> no-repeat<span class="token punctuation">;</span>
  <span class="token property">background-position</span><span class="token punctuation">:</span> center<span class="token punctuation">;</span>
leanpub-end-insert
<span class="token punctuation">}</span>
</code></pre></div><p>The behavior changes depending on the <code>limit</code> you set. Below the limit, it should inline the image while above it should emit a separate asset and a path to it. The CSS lookup works because of <em>css-loader</em>. You can also try importing the image from JavaScript code and see what happens.</p><h2 id="loading-svgs"><a href="#loading-svgs" aria-hidden="true" class="header-anchor">#</a> Loading SVGs</h2><p>Webpack allows a <a href="https://github.com/webpack/webpack/issues/595" target="_blank" rel="noopener noreferrer">couple ways<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to load SVGs. However, the easiest way is through <em>file-loader</em> as follows:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token punctuation">{</span>
  test<span class="token punctuation">:</span> <span class="token regex">/\.svg$/</span><span class="token punctuation">,</span>
  use<span class="token punctuation">:</span> <span class="token string">&quot;file-loader&quot;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span>
</code></pre></div><p>Assuming you have set up your styling correctly, you can refer to your SVG files as below. The example SVG path below is relative to the CSS file:</p><div class="language-css extra-class"><pre class="language-css"><code><span class="token selector">.icon</span> <span class="token punctuation">{</span>
   <span class="token property">background-image</span><span class="token punctuation">:</span> <span class="token url">url(&quot;../assets/icon.svg&quot;)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Consider also the following loaders:</p><ul><li><a href="https://www.npmjs.com/package/raw-loader" target="_blank" rel="noopener noreferrer">raw-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> gives access to the raw SVG content.</li><li><a href="https://www.npmjs.com/package/svg-inline-loader" target="_blank" rel="noopener noreferrer">svg-inline-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> goes a step further and eliminates unnecessary markup from your SVGs.</li><li><a href="https://www.npmjs.com/package/svg-sprite-loader" target="_blank" rel="noopener noreferrer">svg-sprite-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> can merge separate SVG files into a single sprite, making it potentially more efficient to load as you avoid request overhead. It supports raster images (<em>.jpg</em>, <em>.png</em>) as well.</li><li><a href="https://www.npmjs.com/package/svg-url-loader" target="_blank" rel="noopener noreferrer">svg-url-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> loads SVGs as UTF-8 encoded data urls. The result is smaller and faster to parse than base64.</li><li><a href="https://www.npmjs.com/package/react-svg-loader" target="_blank" rel="noopener noreferrer">react-svg-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> emits SVGs as React components meaning you could end up with code like <code>&lt;Image width={50} height={50}/&gt;</code> to render a SVG in your code after importing it.</li></ul><p>T&gt; You can still use <em>url-loader</em> and the tips above with SVGs too.</p><h2 id="optimizing-images"><a href="#optimizing-images" aria-hidden="true" class="header-anchor">#</a> Optimizing Images</h2><p>In case you want to compress your images, use <a href="https://www.npmjs.com/package/image-webpack-loader" target="_blank" rel="noopener noreferrer">image-webpack-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://www.npmjs.com/package/svgo-loader" target="_blank" rel="noopener noreferrer">svgo-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> (SVG specific), or <a href="https://www.npmjs.com/package/imagemin-webpack-plugin" target="_blank" rel="noopener noreferrer">imagemin-webpack-plugin<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. This type of loader should be applied first to the data, so remember to place it as the last within <code>use</code> listing.</p><p>Compression is particularly valuable for production builds as it decreases the amount of bandwidth required to download your image assets and speed up your site or application as a result.</p><h2 id="utilizing-srcset"><a href="#utilizing-srcset" aria-hidden="true" class="header-anchor">#</a> Utilizing <code>srcset</code></h2><p><a href="https://www.npmjs.com/package/resize-image-loader" target="_blank" rel="noopener noreferrer">resize-image-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and <a href="https://www.npmjs.com/package/responsive-loader" target="_blank" rel="noopener noreferrer">responsive-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> allow you to generate <code>srcset</code> compatible collections of images for modern browsers. <code>srcset</code> gives more control to the browsers over what images to load and when resulting in higher performance.</p><h2 id="loading-images-dynamically"><a href="#loading-images-dynamically" aria-hidden="true" class="header-anchor">#</a> Loading Images Dynamically</h2><p>Webpack allows you to load images dynamically based on a condition. The techniques covered in the <em>Code Splitting</em> and <em>Dynamic Loading</em> chapters are enough for this purpose. Doing this can save bandwidth and load images only when you need them or preload them while you have time.</p><h2 id="loading-sprites"><a href="#loading-sprites" aria-hidden="true" class="header-anchor">#</a> Loading Sprites</h2><p><strong>Spriting</strong> technique allows you to combine multiple smaller images into a single image. It has been used for games to describe animations and it's valuable for web development as well as you avoid request overhead.</p><p><a href="https://www.npmjs.com/package/webpack-spritesmith" target="_blank" rel="noopener noreferrer">webpack-spritesmith<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> converts provided images into a sprite sheet and Sass/Less/Stylus mixins. You have to set up a <code>SpritesmithPlugin</code>, point it to target images, and set the name of the generated mixin. After that, your styling can pick it up:</p><div class="language-scss extra-class"><pre class="language-scss"><code><span class="token keyword">@import</span> <span class="token string">&quot;~sprite.sass&quot;</span><span class="token punctuation">;</span>

<span class="token selector">.close-button </span><span class="token punctuation">{</span>
  <span class="token function">sprite</span><span class="token punctuation">(</span><span class="token variable">$close</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.open-button </span><span class="token punctuation">{</span>
  <span class="token function">sprite</span><span class="token punctuation">(</span><span class="token variable">$open</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="using-placeholders"><a href="#using-placeholders" aria-hidden="true" class="header-anchor">#</a> Using Placeholders</h2><p><a href="https://www.npmjs.com/package/image-trace-loader" target="_blank" rel="noopener noreferrer">image-trace-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> loads images and exposes the results as <code>image/svg+xml</code> URL encoded data. It can be used in conjunction with <em>file-loader</em> and <em>url-loader</em> for showing a placeholder while the actual image is being loaded.</p><p><a href="https://www.npmjs.com/package/lqip-loader" target="_blank" rel="noopener noreferrer">lqip-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> implements a similar idea. Instead of tracing, it provides a blurred image instead of a traced one.</p><h2 id="getting-image-dimensions"><a href="#getting-image-dimensions" aria-hidden="true" class="header-anchor">#</a> Getting Image Dimensions</h2><p>Sometimes getting the only reference to an image isn't enough. <a href="https://www.npmjs.com/package/image-size-loader" target="_blank" rel="noopener noreferrer">image-size-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> emits image dimensions, type, and size in addition to the reference to the image itself.</p><h2 id="referencing-to-images"><a href="#referencing-to-images" aria-hidden="true" class="header-anchor">#</a> Referencing to Images</h2><p>Webpack can pick up images from style sheets through <code>@import</code> and <code>url()</code> assuming <em>css-loader</em> has been configured. You can also refer to your images within the code. In this case, you have to import the files explicitly:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">import</span> src <span class="token keyword">from</span> <span class="token string">&quot;./avatar.png&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Use the image in your code somehow now</span>
<span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token punctuation">{</span>src<span class="token punctuation">}</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>If you are using React, then you use <a href="https://www.npmjs.com/package/babel-plugin-transform-react-jsx-img-import" target="_blank" rel="noopener noreferrer">babel-plugin-transform-react-jsx-img-import<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to generate the <code>require</code> automatically. In that case, you would end up with code:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">Profile</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token operator">&lt;</span>img src<span class="token operator">=</span><span class="token string">&quot;avatar.png&quot;</span> <span class="token operator">/</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
</code></pre></div><p>It's also possible to set up dynamic imports as discussed in the <em>Code Splitting</em> chapter. Here's a small example:</p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> src <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token template-string"><span class="token string">`./avatars/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>avatar<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span>`<span class="token punctuation">.</span>
</code></pre></div><h2 id="images-and-css-loader-source-map-gotcha"><a href="#images-and-css-loader-source-map-gotcha" aria-hidden="true" class="header-anchor">#</a> Images and <em>css-loader</em> Source Map Gotcha</h2><p>If you are using images and <em>css-loader</em> with the <code>sourceMap</code> option enabled, it's important that you set <code>output.publicPath</code> to an absolute value pointing to your development server. Otherwise, images aren't going to work. See <a href="https://github.com/webpack/style-loader/issues/55" target="_blank" rel="noopener noreferrer">the relevant webpack issue<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for further explanation.</p><h2 id="conclusion"><a href="#conclusion" aria-hidden="true" class="header-anchor">#</a> Conclusion</h2><p>Webpack allows you to inline images within your bundles when needed. Figuring out proper inlining limits for your images requires experimentation. You have to balance between bundle sizes and the number of requests.</p><p>To recap:</p><ul><li><em>url-loader</em> inlines the assets within JavaScript. It comes with a <code>limit</code> option that allows you to defer assets above it to <em>file-loader</em>.</li><li><em>file-loader</em> emits image assets and returns paths to them to the code. It allows hashing the asset names.</li><li>You can find image optimization related loaders and plugins that allow you to tune their size further.</li><li>It's possible to generate <strong>sprite sheets</strong> out of smaller images to combine them into a single request.</li><li>Webpack allows you to load images dynamically based on a given condition.</li><li>If you are using source maps, you should remember to set <code>output.publicPath</code> to an absolute value for the images to show up.</li></ul><p>You'll learn to load fonts using webpack in the next chapter.</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/lvzhenbang/webpack-book/edit/dev/docs/en/loading/02_images.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/webpack-book/en/loading/01_loader_definitions.html" class="prev">
          Loader Definitions
        </a></span><span class="next"><a href="/webpack-book/en/loading/03_fonts.html">
          Loading Fonts
        </a> →
      </span></p></div></div></div></div>
    <script src="/webpack-book/assets/js/34.0901960e.js" defer></script><script src="/webpack-book/assets/js/app.e618464b.js" defer></script>
  </body>
</html>
