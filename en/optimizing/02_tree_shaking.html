<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Tree Shaking | webpack surviveJS</title>
    <meta name="description" content="webpack SruriveJS">
    
    
    <link rel="preload" href="/webpack-book/assets/css/styles.1ef58692.css" as="style"><link rel="preload" href="/webpack-book/assets/js/app.1ef58692.js" as="script"><link rel="preload" href="/webpack-book/assets/js/38.2a53c8e6.js" as="script"><link rel="prefetch" href="/webpack-book/assets/css/1.styles.45cc87d3.css"><link rel="prefetch" href="/webpack-book/assets/js/1.45cc87d3.js"><link rel="prefetch" href="/webpack-book/assets/js/2.c0558643.js"><link rel="prefetch" href="/webpack-book/assets/js/3.82147960.js"><link rel="prefetch" href="/webpack-book/assets/js/4.4e17298f.js"><link rel="prefetch" href="/webpack-book/assets/js/5.fc33582f.js"><link rel="prefetch" href="/webpack-book/assets/js/6.559785d0.js"><link rel="prefetch" href="/webpack-book/assets/js/7.ff44e233.js"><link rel="prefetch" href="/webpack-book/assets/js/8.4150c5f1.js"><link rel="prefetch" href="/webpack-book/assets/js/9.c1062c75.js"><link rel="prefetch" href="/webpack-book/assets/js/10.f0dee939.js"><link rel="prefetch" href="/webpack-book/assets/js/11.faef7c31.js"><link rel="prefetch" href="/webpack-book/assets/js/12.e8da1b7a.js"><link rel="prefetch" href="/webpack-book/assets/js/13.1c9fec0f.js"><link rel="prefetch" href="/webpack-book/assets/js/14.6c0bc544.js"><link rel="prefetch" href="/webpack-book/assets/js/15.300e7dc8.js"><link rel="prefetch" href="/webpack-book/assets/js/16.a4f3fa6b.js"><link rel="prefetch" href="/webpack-book/assets/js/17.de8ce753.js"><link rel="prefetch" href="/webpack-book/assets/js/18.88a81980.js"><link rel="prefetch" href="/webpack-book/assets/js/19.115de346.js"><link rel="prefetch" href="/webpack-book/assets/js/20.83e4aea8.js"><link rel="prefetch" href="/webpack-book/assets/js/21.2e3c90de.js"><link rel="prefetch" href="/webpack-book/assets/js/22.94484168.js"><link rel="prefetch" href="/webpack-book/assets/js/23.31a875d3.js"><link rel="prefetch" href="/webpack-book/assets/js/24.0fd19b9e.js"><link rel="prefetch" href="/webpack-book/assets/js/25.8c0325c7.js"><link rel="prefetch" href="/webpack-book/assets/js/26.7dd0a21d.js"><link rel="prefetch" href="/webpack-book/assets/js/27.7a717d84.js"><link rel="prefetch" href="/webpack-book/assets/js/28.93ca3bc4.js"><link rel="prefetch" href="/webpack-book/assets/js/29.56efc258.js"><link rel="prefetch" href="/webpack-book/assets/js/30.2ea44d1b.js"><link rel="prefetch" href="/webpack-book/assets/js/31.b96b3185.js"><link rel="prefetch" href="/webpack-book/assets/js/32.9a2c7707.js"><link rel="prefetch" href="/webpack-book/assets/js/33.1fe84891.js"><link rel="prefetch" href="/webpack-book/assets/js/34.0901960e.js"><link rel="prefetch" href="/webpack-book/assets/js/35.39c28bc1.js"><link rel="prefetch" href="/webpack-book/assets/js/36.006dbaf0.js"><link rel="prefetch" href="/webpack-book/assets/js/37.552f2311.js"><link rel="prefetch" href="/webpack-book/assets/js/39.0c228fc5.js"><link rel="prefetch" href="/webpack-book/assets/js/40.f633d2d4.js"><link rel="prefetch" href="/webpack-book/assets/js/41.a4483034.js"><link rel="prefetch" href="/webpack-book/assets/js/42.f367d05e.js"><link rel="prefetch" href="/webpack-book/assets/js/43.8ece1b2e.js"><link rel="prefetch" href="/webpack-book/assets/js/44.d1ba4040.js"><link rel="prefetch" href="/webpack-book/assets/js/45.8d6495e8.js"><link rel="prefetch" href="/webpack-book/assets/js/46.afed86d6.js"><link rel="prefetch" href="/webpack-book/assets/js/47.e7c6d41a.js"><link rel="prefetch" href="/webpack-book/assets/js/48.6a1bb0d4.js"><link rel="prefetch" href="/webpack-book/assets/js/49.204939ef.js"><link rel="prefetch" href="/webpack-book/assets/js/50.7bc7042f.js"><link rel="prefetch" href="/webpack-book/assets/js/51.fa44042b.js"><link rel="prefetch" href="/webpack-book/assets/js/52.93f9cae4.js"><link rel="prefetch" href="/webpack-book/assets/js/53.4fd764c8.js"><link rel="prefetch" href="/webpack-book/assets/js/54.f3e7d2a9.js"><link rel="prefetch" href="/webpack-book/assets/js/55.527622d5.js"><link rel="prefetch" href="/webpack-book/assets/js/56.c86daeee.js"><link rel="prefetch" href="/webpack-book/assets/js/57.0c7a7a91.js"><link rel="prefetch" href="/webpack-book/assets/js/58.765a870d.js"><link rel="prefetch" href="/webpack-book/assets/js/59.bc01c29d.js"><link rel="prefetch" href="/webpack-book/assets/js/60.cc3266a7.js"><link rel="prefetch" href="/webpack-book/assets/js/61.d4742353.js"><link rel="prefetch" href="/webpack-book/assets/js/62.1d551a7a.js"><link rel="prefetch" href="/webpack-book/assets/js/63.0eae740f.js"><link rel="prefetch" href="/webpack-book/assets/js/64.a564e6c8.js"><link rel="prefetch" href="/webpack-book/assets/js/65.f84359d1.js"><link rel="prefetch" href="/webpack-book/assets/js/66.3a62781a.js"><link rel="prefetch" href="/webpack-book/assets/js/67.821e7211.js"><link rel="prefetch" href="/webpack-book/assets/js/68.f3764711.js"><link rel="prefetch" href="/webpack-book/assets/js/69.4556cf84.js"><link rel="prefetch" href="/webpack-book/assets/js/70.cb76d9d3.js"><link rel="prefetch" href="/webpack-book/assets/js/71.f5c0508d.js"><link rel="prefetch" href="/webpack-book/assets/js/72.86c41abe.js"><link rel="prefetch" href="/webpack-book/assets/js/73.a8820435.js"><link rel="prefetch" href="/webpack-book/assets/js/74.9008eb01.js"><link rel="prefetch" href="/webpack-book/assets/js/75.ee7a8bbb.js"><link rel="prefetch" href="/webpack-book/assets/js/76.d24d189a.js"><link rel="prefetch" href="/webpack-book/assets/js/77.3d2824f1.js"><link rel="prefetch" href="/webpack-book/assets/js/78.d029813d.js"><link rel="prefetch" href="/webpack-book/assets/js/79.92bf908e.js"><link rel="prefetch" href="/webpack-book/assets/js/80.0605ed79.js"><link rel="prefetch" href="/webpack-book/assets/js/81.1c589dac.js"><link rel="prefetch" href="/webpack-book/assets/js/82.47924dd8.js"><link rel="prefetch" href="/webpack-book/assets/js/83.9d8e676d.js"><link rel="prefetch" href="/webpack-book/assets/js/84.c82d11aa.js"><link rel="prefetch" href="/webpack-book/assets/js/85.726b81c4.js"><link rel="prefetch" href="/webpack-book/assets/js/86.64948b27.js"><link rel="prefetch" href="/webpack-book/assets/js/87.b48cf050.js"><link rel="prefetch" href="/webpack-book/assets/js/88.c6692c41.js"><link rel="prefetch" href="/webpack-book/assets/js/89.3e130a8d.js"><link rel="prefetch" href="/webpack-book/assets/js/90.1d7bcf63.js"><link rel="prefetch" href="/webpack-book/assets/js/91.86cca913.js"><link rel="prefetch" href="/webpack-book/assets/js/92.db0ad595.js"><link rel="prefetch" href="/webpack-book/assets/js/93.751d25a6.js"><link rel="prefetch" href="/webpack-book/assets/js/94.fcc921ca.js"><link rel="prefetch" href="/webpack-book/assets/js/95.19fec0e9.js"><link rel="prefetch" href="/webpack-book/assets/js/96.b3553500.js"><link rel="prefetch" href="/webpack-book/assets/js/97.b758c384.js"><link rel="prefetch" href="/webpack-book/assets/js/98.c5609fb7.js"><link rel="prefetch" href="/webpack-book/assets/js/99.aeae8502.js"><link rel="prefetch" href="/webpack-book/assets/js/100.0b9a4bc7.js"><link rel="prefetch" href="/webpack-book/assets/js/101.065606e1.js"><link rel="prefetch" href="/webpack-book/assets/js/102.34624029.js"><link rel="prefetch" href="/webpack-book/assets/js/103.4719eae8.js"><link rel="prefetch" href="/webpack-book/assets/js/104.3a239f3b.js"><link rel="prefetch" href="/webpack-book/assets/js/105.319c5359.js"><link rel="prefetch" href="/webpack-book/assets/js/106.70eddccc.js"><link rel="prefetch" href="/webpack-book/assets/js/107.d55c9ccd.js"><link rel="prefetch" href="/webpack-book/assets/js/108.2bd7e358.js"><link rel="prefetch" href="/webpack-book/assets/js/109.38234887.js"><link rel="prefetch" href="/webpack-book/assets/js/110.1461cec1.js">
    <link rel="stylesheet" href="/webpack-book/assets/css/styles.1ef58692.css"><link rel="stylesheet" href="/webpack-book/assets/css/1.styles.45cc87d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/webpack-book/en/" class="home-link router-link-active"><!----><span class="site-name">
      webpack surviveJS
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/optimizing/02_tree_shaking.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/" class="nav-link">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/optimizing/02_tree_shaking.html" class="nav-link router-link-exact-active router-link-active">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/webpack-book/en/" class="sidebar-link">webpack Book</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>guide</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>developing</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>styling</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>loading Assets</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>building</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>optimizing</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/webpack-book/en/optimizing/01_minifying.html" class="sidebar-link">Minifying</a></li><li><a href="/webpack-book/en/optimizing/02_tree_shaking.html" class="active sidebar-link">Tree Shaking</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-book/en/optimizing/02_tree_shaking.html#demonstrating-tree-shaking" class="sidebar-link">Demonstrating Tree Shaking</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/optimizing/02_tree_shaking.html#tree-shaking-on-package-level" class="sidebar-link">Tree Shaking on Package Level</a></li><li class="sidebar-sub-header"><a href="/webpack-book/en/optimizing/02_tree_shaking.html#conclusion" class="sidebar-link">Conclusion</a></li></ul></li><li><a href="/webpack-book/en/optimizing/03_environment_variables.html" class="sidebar-link">Environment Variables</a></li><li><a href="/webpack-book/en/optimizing/04_adding_hashes_to_filenames.html" class="sidebar-link">Adding Hashes to Filenames</a></li><li><a href="/webpack-book/en/optimizing/05_separating_manifest.html" class="sidebar-link">Separating a Manifest</a></li><li><a href="/webpack-book/en/optimizing/06_build_analysis.html" class="sidebar-link">Build Analysis</a></li><li><a href="/webpack-book/en/optimizing/07_performance.html" class="sidebar-link">Performance</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>output</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>techniques</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>extending</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>appendices</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="tree-shaking"><a href="#tree-shaking" aria-hidden="true" class="header-anchor">#</a> Tree Shaking</h1><p><strong>Tree shaking</strong> is a feature enabled by the ES2015 module definition. The idea is that given it's possible to analyze the module definition statically without running it, webpack can tell which parts of the code are being used and which are not. It's possible to verify this behavior by expanding the application and adding code there that should be eliminated.</p><p>T&gt; Tree shaking works to an extent through <a href="https://www.npmjs.com/package/webpack-common-shake" target="_blank" rel="noopener noreferrer">webpack-common-shake<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> against CommonJS module definition. As a majority of npm packages have been authored using the older definition, the plugin has value.</p><h2 id="demonstrating-tree-shaking"><a href="#demonstrating-tree-shaking" aria-hidden="true" class="header-anchor">#</a> Demonstrating Tree Shaking</h2><p>To shake code, you have to define a module and use only a part of its code. Set one up:</p><p><strong>src/shake.js</strong></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> <span class="token function-variable function">shake</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;shake&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">const</span> <span class="token function-variable function">bake</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">&quot;bake&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token punctuation">{</span> shake<span class="token punctuation">,</span> bake <span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>{pagebreak}</p><p>To make sure you use a part of the code, alter the application entry point:</p><p><strong>src/index.js</strong></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token operator">...</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bake <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./shake&quot;</span><span class="token punctuation">;</span>

<span class="token function">bake</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token operator">...</span>
</code></pre></div><p>If you build the project again (<code>npm run build</code>) and examine the build (<em>dist/main.js</em>), it should contain <code>console.log(&quot;bake&quot;)</code>, but miss <code>console.log(&quot;shake&quot;)</code>. That's tree shaking in action.</p><p>To get a better idea of what webpack is using for tree shaking, run it through <code>npm run build -- --display-used-exports</code>. You should see additional output like <code>[no exports used]</code> or <code>[only some exports used: bake]</code> in the terminal.</p><p>T&gt; If you are using <code>UglifyJsPlugin</code>, enable warnings for a similar effect. In addition to other messages, you should see lines like <code>Dropping unused variable treeShakingDemo [./src/component.js:17,6]</code>.</p><p>T&gt; There is a CSS Modules related tree shaking proof of concept at <a href="https://github.com/simlrh/dead-css-loader" target="_blank" rel="noopener noreferrer">dead-css-loader<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p><h2 id="tree-shaking-on-package-level"><a href="#tree-shaking-on-package-level" aria-hidden="true" class="header-anchor">#</a> Tree Shaking on Package Level</h2><p>The same idea works with dependencies that use the ES2015 module definition. Given the related packaging, standards are still emerging, you have to be careful when consuming such packages. Webpack tries to resolve <em>package.json</em><code>module</code> field for this reason.</p><p>For tools like webpack to allow tree shake npm packages, you should generate a build that has transpiled everything else except the ES2015 module definitions and then point to it through <em>package.json</em><code>module</code> field. In Babel terms, you have to let webpack to manage ES2015 modules by setting <code>&quot;modules&quot;: false</code>.</p><p>To get most out of tree shaking with external packages, you have to use <a href="https://www.npmjs.com/package/babel-plugin-transform-imports" target="_blank" rel="noopener noreferrer">babel-plugin-transform-imports<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to rewrite imports so that they work with webpack's tree shaking logic. See <a href="https://github.com/webpack/webpack/issues/2867" target="_blank" rel="noopener noreferrer">webpack issue #2867<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> for more information.</p><p>T&gt; <a href="https://survivejs.com/maintenance/packaging/building/" target="_blank" rel="noopener noreferrer">SurviveJS - Maintenance<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> covers how to write your packages so that it's possible to apply tree shaking against them.</p><h2 id="conclusion"><a href="#conclusion" aria-hidden="true" class="header-anchor">#</a> Conclusion</h2><p>Tree shaking is a potentially powerful technique. For the source to benefit from tree shaking, npm packages have to be implemented using the ES2015 module syntax, and they have to expose the ES2015 version through <em>package.json</em><code>module</code> field tools like webpack can pick up.</p><p>To recap:</p><ul><li><strong>Tree shaking</strong> drops unused pieces of code based on static code analysis. Webpack performs this process for you as it traverses the dependency graph.</li><li>To benefit from tree shaking, you have to use ES2015 module definition.</li><li>As a package author, you can provide a version of your package that contains ES2015 modules, while the rest has been transpiled to ES5.</li></ul><p>You'll learn how to manage environment variables using webpack in the next chapter.</p></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/lvzhenbang/webpack-book/edit/dev/docs/en/optimizing/02_tree_shaking.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/webpack-book/en/optimizing/01_minifying.html" class="prev">
          Minifying
        </a></span><span class="next"><a href="/webpack-book/en/optimizing/03_environment_variables.html">
          Environment Variables
        </a> →
      </span></p></div></div></div></div>
    <script src="/webpack-book/assets/js/38.2a53c8e6.js" defer></script><script src="/webpack-book/assets/js/app.1ef58692.js" defer></script>
  </body>
</html>
