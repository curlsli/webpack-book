(window.webpackJsonp=window.webpackJsonp||[]).push([[111],{239:function(t,s,a){"use strict";a.r(s);var n=a(0),e=Object(n.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("有时包没有按照你期望的方式打包，你必须调整webpack解释它们的方式。Webpack提供了多种方法来实现这一目标。")]),t._m(1),t._m(2),t._m(3),t._m(4),a("p",[t._v("轻量级的React替代品，如"),a("a",{attrs:{href:"https://www.npmjs.com/package/preact",target:"_blank",rel:"noopener noreferrer"}},[t._v("Preact"),a("OutboundLink")],1),t._v("，"),a("a",{attrs:{href:"https://www.npmjs.com/package/react-lite",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-lite"),a("OutboundLink")],1),t._v("，或"),a("a",{attrs:{href:"https://www.npmjs.com/package/inferno",target:"_blank",rel:"noopener noreferrer"}},[t._v(" Inferno"),a("OutboundLink")],1),t._v('提供更小的尺寸，同时权衡诸如"propTypes"和合成事件处理之类的功能。用更轻的替代品替换React可以节省大量空间。')]),t._m(5),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/directory-named-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("directory-named-webpack-plugin"),a("OutboundLink")],1),t._v("建立目录的导入与目录名匹配的文件的映射关系。例如，它会将 "),a("code",[t._v("import foo from './foo';")]),t._v(" 映射到 "),a("code",[t._v("import foo from './foo/foo.js';")]),t._v("。该模式在React中很受欢迎，使用该插件可以简化代码。"),a("a",{attrs:{href:"https://www.npmjs.com/package/babel-plugin-module-resolver",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-module-resolver"),a("OutboundLink")],1),t._v("通过Babel实现了相同的行为。")]),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/webpack-resolve-short-path-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-resolve-short-path-plugin"),a("OutboundLink")],1),t._v("旨在避免深度嵌套的导入，如 "),a("code",[t._v("import foo from '../../../foo';")]),t._v(" 通过添加对tilde("),a("code",[t._v("~")]),t._v(")语法的支持。如果使用插件，"),a("code",[t._v('import from "~foo"')]),t._v(" 将解析项目根目录。")])]),t._m(17),a("p",[t._v("常见的浏览器依赖(如jQuery)通过公共可用的CDN提供。CDN允许你在其他地方加载流行软件包。 如果已经从CDN加载了一个包并且它在用户缓存中，则无需加载它。")]),a("p",[t._v("要项目中使用此技术，你应首先将所引用的依赖标记为外部：")]),t._m(18),a("p",[t._v("你仍然需要在使用的页面添加指向CDN的引用，并且提供理想情况下的本地回退。因此如果CDN不适用于客户端，则需要加载：")]),t._m(19),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/html-webpack-cdn-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("html-webpack-cdn-plugin"),a("OutboundLink")],1),t._v(" 如果你使用 "),a("code",[t._v("HtmlWebpackPlugin")]),t._v(" 并想要自动注入 "),a("code",[t._v("script")]),t._v(" 标签，这是一个选择。")])]),t._m(20),t._m(21),t._m(22),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/imports-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("imports-loader"),a("OutboundLink")],1),t._v(" 允许你像下面这样注入全局变量：")]),t._m(23),t._m(24),t._m(25),t._m(26),t._m(27),a("p",[t._v("有时你必须将包公开给第三方脚本。"),a("a",{attrs:{href:"https://www.npmjs.com/package/expose-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("expose-loader"),a("OutboundLink")],1),t._v(" 允许你像下面这样做：")]),t._m(28),t._m(29),t._m(30),a("blockquote",[a("p",[a("a",{attrs:{href:"https://github.com/facebook/react-devtools",target:"_blank",rel:"noopener noreferrer"}},[t._v("React Developer Tools"),a("OutboundLink")],1),t._v(" 可以让Chrome获取更多信息，因为它允许你检查应用程序的 "),a("code",[t._v("props")]),t._v(" 和 "),a("code",[t._v("state")]),t._v(" 。")])]),a("blockquote",[a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/script-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("script-loader"),a("OutboundLink")],1),t._v(" 允许你在全局上下文中执行脚本。如果你使用的脚本依赖于全局注册设置，则必须执行此操作。")])]),t._m(31),a("p",[t._v("尽管包可以很好地开箱即用，但它们有时会为你的项目带来太多代码。"),a("a",{attrs:{href:"https://www.npmjs.com/package/moment",target:"_blank",rel:"noopener noreferrer"}},[t._v("Moment.js"),a("OutboundLink")],1),t._v(" 是一个很受欢迎的例子。默认情况下，它会将本地数据带到项目中。")]),t._m(32),t._m(33),t._m(34),t._m(35),t._m(36),a("blockquote",[a("p",[t._v("有一个 "),a("a",{attrs:{href:"https://stackoverflow.com/questions/25384360/how-to-prevent-moment-js-from-loading-locales-with-webpack/25426019",target:"_blank",rel:"noopener noreferrer"}},[t._v("Stack Overflow question"),a("OutboundLink")],1),t._v(" 详细介绍了这些知识点。你也可以参考 "),a("a",{attrs:{href:"https://iamakulov.com/notes/webpack-contextreplacementplugin/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Ivan Akulov's explanation of "),a("code",[t._v("ContextReplacementPlugin")]),a("OutboundLink")],1),t._v("。")])]),t._m(37),a("p",[t._v("webpack可能会给出某些依赖项的警告，如下所示：")]),t._m(38),a("p",[t._v("如果包指向预构建(如：最小化和已经处理)的文件，则可能发生警告。Webpack检测到这种情况并发出警告。")]),t._m(39),t._m(40),a("blockquote",[a("p",[t._v("Take care when disabling warnings as it can hide underlying issues. Consider alternatives first. There's a "),a("a",{attrs:{href:"https://github.com/webpack/webpack/issues/1617",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack issue"),a("OutboundLink")],1),t._v(" that discusses the problem in detail.")])]),t._m(41),t._m(42),a("p",[t._v("Webpack将Symbolic 链接解析为 Node 的完整路径。 问题是，如果你不知道这个情况，这种行为会让你感到惊讶，特别是如果你依赖webpack处理。可以解决webpack问题"),a("a",{attrs:{href:"https://github.com/webpack/webpack/issues/1643",target:"_blank",rel:"noopener noreferrer"}},[t._v("＃1643"),a("OutboundLink")],1),t._v("和"),a("a",{attrs:{href:"https://github.com/webpack/webpack/issues/985",target:"_blank",rel:"noopener noreferrer"}},[t._v("＃985"),a("OutboundLink")],1),t._v("中讨论的行为。Webpack核心行为将来可能会有所改进，使这些变通方法变得不必要。")]),t._m(43),t._m(44),t._m(45),a("ul",[a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/package-config-checker",target:"_blank",rel:"noopener noreferrer"}},[t._v("package-config-checker"),a("OutboundLink")],1),t._v(" 更进一步。 它允许你更好地了解项目的哪些软件包最近更新，并提供了深入了解依赖项的方法。例如，它显示了哪些包可以使用与下载大小等相关信息。")]),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/slow-deps",target:"_blank",rel:"noopener noreferrer"}},[t._v("slow-deps"),a("OutboundLink")],1),t._v(" 可以提示项目的哪些依赖项安装是最慢的。")]),a("li",[a("a",{attrs:{href:"https://www.npmjs.com/package/weigh",target:"_blank",rel:"noopener noreferrer"}},[t._v("weigh"),a("OutboundLink")],1),t._v(" 当用于以不同方式（未压缩，缩小，压缩）的浏览器提供包时，可以使用它来计算包的大致大小。")])]),t._m(46),a("p",[t._v("Webpack可以毫无问题地使用大多数npm软件包。但有时候，使用webpack的解析机制需要额外的配置辅助。")]),a("p",[t._v("内容回顾：")]),t._m(47)])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"使用包-依赖"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用包-依赖","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用包(依赖)")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"resolve-alias"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolve-alias","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("resolve.alias")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("有时包不符合标准规则，它们的 "),s("code",[this._v("package.json")]),this._v(" 包含一个错误的 "),s("code",[this._v("main")]),this._v(" 字段。它可能完全丢失，在这里使用 "),s("code",[this._v("resolve.alias")]),this._v(" 字段，如下例所示：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alias"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      demo"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n        __dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{attrs:{class:"token string"}},[t._v('"node_modules/demo/dist/demo.js"')]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("它的意思是，如果webpack解析器解析目标，从匹配 "),s("code",[this._v("demo")]),this._v(" 开始。你可以使用类似 "),s("code",[this._v("demo $")]),this._v("  的模式，将它约束为确切的名称。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你正在用 "),s("code",[this._v("react-lite")]),this._v("，你可以像下面这样配置它：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    alias"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token comment"}},[t._v("// Swap the target based on your need")]),t._v("\n      react"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"react-lite"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token string"}},[t._v('"react-dom"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"react-lite"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("同样的技术也适用于loader，可以使用类似地 "),s("code",[this._v("resolveLoader.alias")]),this._v(" 字段。你可以在webpack中，使用这种方法构建RequireJS项目。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"resolve-extensions"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolve-extensions","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("resolve.extensions")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("默认情况下，webpack在没有扩展名的情况下，只会解析"),s("code",[this._v(".js")]),this._v("，"),s("code",[this._v(".json")]),this._v("文件，和JSX文件，配置如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    extensions"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('".js"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('".json"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('".jsx"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"resolve-modules"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolve-modules","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("resolve.modules")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("可以通过更改webpack查找模块的位置，来更改模块解析过程。默认情况下，它仅在 "),s("code",[this._v("node_modules")]),this._v(" 目录中查找。如果你想覆盖那里的包，你可以做如下配置：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  resolve"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    modules"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token string"}},[t._v('"my_modules"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"node_modules"')]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("更改后，webpack将首先尝试查看 "),s("code",[this._v("my_modules")]),this._v(" 目录。该方法适用于需要自定义行为的大型项目。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"resolve-plugins"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#resolve-plugins","aria-hidden":"true"}},[this._v("#")]),s("code",[this._v("resolve.plugins")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Webpack允许你使用 "),s("code",[this._v("resolve.plugins")]),this._v(" 字段自定义模块的解析行为。具体可参考下插件的使用：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用webpack之外的包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用webpack之外的包","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用webpack之外的包")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("externals"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  jquery"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"jquery"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-html extra-class"},[a("pre",{pre:!0,attrs:{class:"language-html"}},[a("code",[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("//ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scrip")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("scrip")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    window.jQuery || document.write('"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("script")]),t._v(" "),a("span",{attrs:{class:"token attr-name"}},[t._v("src")]),a("span",{attrs:{class:"token attr-value"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("=")]),a("span",{attrs:{class:"token punctuation"}},[t._v('"')]),t._v("js/jquery-3.1.1.min.js"),a("span",{attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("<\\/scrip>')\n"),a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token tag"}},[a("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("scrip")]),a("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"处理-globals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#处理-globals","aria-hidden":"true"}},[this._v("#")]),this._v(" 处理 Globals")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("有时模块依赖于全局变量。jQuery提供的 "),s("code",[this._v("$")]),this._v(" 就是一个很好的例子。Webpack提供了一些允许你处理它们的方法。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"注入-globals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#注入-globals","aria-hidden":"true"}},[this._v("#")]),this._v(" 注入 Globals")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  module"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// Resolve against package path.")]),t._v("\n        "),a("span",{attrs:{class:"token comment"}},[t._v("// require.resolve returns a path to it.")]),t._v("\n        test"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" require"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"jquery-plugin"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        loader"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"imports-loader?$=jquery"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"解析-globals"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#解析-globals","aria-hidden":"true"}},[this._v("#")]),this._v(" 解析 Globals")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Webpack的 "),s("code",[this._v("ProvidePlugin")]),this._v(" 允许webpack在遇到全局变量时解析它们：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("webpack"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ProvidePlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      $"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"jquery"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"暴露-globals-给浏览器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#暴露-globals-给浏览器","aria-hidden":"true"}},[this._v("#")]),this._v(" 暴露 Globals 给浏览器")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  test"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" require"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("resolve")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"react"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  use"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"expose-loader?React"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("通过小范围的调整，该技术可通过 "),s("code",[this._v("React.Perf")]),this._v(" 将React性能方面的功能部件公开给浏览器。你必须将以下代码插入到应用程序入口点才能使其正常工作：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("if")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("process"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("env"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token constant"}},[t._v("NODE_ENV")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("!==")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"production"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  React"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Perf "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"react-addons-perf"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"移除未使用的模块"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#移除未使用的模块","aria-hidden":"true"}},[this._v("#")]),this._v(" 移除未使用的模块")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("禁用该行为的最简单方法是使用 "),s("code",[this._v("IgnorePlugin")]),this._v(" 忽略语言环境：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("webpack"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("IgnorePlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token regex"}},[t._v("/^\\.\\/locale$/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token regex"}},[t._v("/moment$/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("你可以使用相同的机制来解决有问题的依赖项。如： "),s("code",[this._v("new webpack.IgnorePlugin(/^(buffertools)$/)")]),this._v(".")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要将特定的部分引入项目，你应该使用 "),s("code",[this._v("ContextReplacementPlugin")]),this._v(":")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("webpack"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("ContextReplacementPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),a("span",{attrs:{class:"token regex"}},[t._v("/moment[\\/\\\\]locale$/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token regex"}},[t._v("/de|fi/")]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"管理预构建的依赖包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理预构建的依赖包","aria-hidden":"true"}},[this._v("#")]),this._v(" 管理预构建的依赖包")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("WARNING "),a("span",{attrs:{class:"token keyword"}},[t._v("in")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/~/jasmine-promises/dist/jasmine-promises.js\nCritical dependencies:\n1:113-120 This seems to be a pre-built javascript file. Though this is possible, it's not recommended. Try to require the original "),a("span",{attrs:{class:"token function"}},[t._v("source")]),t._v(" to get better results.\n @ "),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v("/~/jasmine-promises/dist/jasmine-promises.js 1:113-120\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如上所述，可以通过将包别名化为源版本来消除警告。考虑到有时源不可用，另一个选择是告诉webpack跳过通过 "),s("code",[this._v("module.noParse")]),this._v(" 解析文件。它接受RegExp或RegExps数组，配置如下：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  module"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    noParse"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token regex"}},[t._v("/node_modules\\/demo-package\\/dist\\/demo-package.js/")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"管理symbolic链接"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#管理symbolic链接","aria-hidden":"true"}},[this._v("#")]),this._v(" 管理Symbolic链接")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("Symbolic链接或symlinks，是一种操作系统级功能，允许你通过文件系统指向其他文件而无需复制它们。你可以使用 "),s("code",[this._v("npm link")]),this._v(" 为正在开发的包创建全局的symbolic链接，然后使用 "),s("code",[this._v("npm unlink")]),this._v(" 删除链接。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("你可以通过将 "),s("code",[this._v("resolve.symlinks")]),this._v(" 设置为 "),s("code",[this._v("false")]),this._v(" 来禁用webpack的symbolic链接处理。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"深入了解包"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#深入了解包","aria-hidden":"true"}},[this._v("#")]),this._v(" 深入了解包")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("为了获得更多信息，npm为基本查询提供了"),s("code",[this._v("npm info <package>")]),this._v("命令。你可以使用它来检查与包关联的元数据（metadata），同时确定版本相关信息。 请考虑以下工具：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("使用webpack的模块解析对你的开发有帮助。有时你可以通过调整解析来解决某些问题。不过，尝试将改进流（upstream）推到项目本身通常是个好主意。")]),s("li",[this._v("Webpack允许你修补已解析的模块。给出特定的依赖关系需要全局变量，你可以通过注入处理它们。你还可以将模块公开为全局变量，因为这对于某些开发工具来说是必需的。")])])}],!1,null,null,null);e.options.__file="06_consuming.md";s.default=e.exports}}]);