(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{150:function(t,s){t.exports="data:image/png;base64,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"},180:function(t,s,n){"use strict";n.r(s);var a=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"构建多页面应用"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建多页面应用","aria-hidden":"true"}},[this._v("#")]),this._v(" 构建多页面应用")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("即使webpack经常用于打包单页面应用程序，也可以用它处理多个独立的页面。这个想法类似于 "),s("em",[this._v("构建目标")]),this._v(" 这章中所讲的，你可以生成多个输出文件。但是这一次，你必须生成多个独立的页面。而这可以通过 "),s("code",[this._v("HtmlWebpackPlugin")]),this._v(" 和一些配置来实现。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"可能的方法"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#可能的方法","aria-hidden":"true"}},[this._v("#")]),this._v(" 可能的方法")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[t._v("完成"),n("em",[t._v("multi-compiler")]),t._v("并返回一组配置。 只要页面是分开的，并且跨越它们共享代码的最小需求，该方法就可以工作。这种方法的好处是你可以通过[parallel-webpack] (https://www.npmjs.com/package/parallel-webpack)处理它，以提高构建性能。")]),n("li",[t._v("设置单个配置并提取共性。你执行此操作的方式可能会有所不同，具体取决于你的方式。")]),n("li",[t._v("如果你遵循[渐进式 Web 应用程序] (https://developers.google.com/web/progressive-web-apps/)（PWA）的想法，你最终可能会得到 "),n("strong",[t._v("app shell")]),t._v(" 或者 "),n("strong",[t._v("page shell")]),t._v(" 并在使用时加载应用程序的部分。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"生成多页面"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成多页面","aria-hidden":"true"}},[this._v("#")]),this._v(" 生成多页面")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("要生成多个独立的页面，应以某种方式初始化它们。你还应该能够返回每个页面的配置，因此webpack会选择它们并通过 "),s("code",[this._v("multi-compiler")]),this._v(" 模式处理它们。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"页面摘要"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#页面摘要","aria-hidden":"true"}},[this._v("#")]),this._v(" 页面摘要")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.parts.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" HtmlWebpackPlugin "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"html-webpack-plugin"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  path "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('""')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  template "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("resolve")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n    "),n("span",{attrs:{class:"token string"}},[t._v('"html-webpack-plugin/default_index.ejs"')]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  title"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filename"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("path "),n("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" path "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"/"')]),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v("index.html`")])]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      template"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"集成到配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#集成到配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 集成到配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{attrs:{class:"token comment"}},[t._v('// const HtmlWebpackPlugin = require("html-webpack-plugin");')]),t._v("\n"),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" commonConfig "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// {")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//   plugins: [")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//     new HtmlWebpackPlugin({")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v('//       title: "Webpack demo",')]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//     }),")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//   ],")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// },")]),t._v("\n  "),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\nmodule"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mode "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v('// if (mode === "production") {')]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//   return merge(commonConfig, productionConfig, { mode });")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// }")]),t._v("\n\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// return merge(commonConfig, developmentConfig, { mode });")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pages "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Webpack demo"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Another demo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"another"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    mode "),n("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" productionConfig "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" developmentConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" pages"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n    "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commonConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" page"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在这个改变之后，在应用程序中应该有两个页面："),s("code",[this._v("/")]),this._v("和"),s("code",[this._v("/ another")]),this._v("。应该可以在看到相同输出，并导航它们。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"向每个页面注入不同的脚本"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#向每个页面注入不同的脚本","aria-hidden":"true"}},[this._v("#")]),this._v(" 向每个页面注入不同的脚本")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("问题是，如何为每个页面注入不同的脚本。在当前配置中，两者共享相同的"),s("code",[this._v("entry")]),this._v("。要解决此问题，你应该将 "),s("code",[this._v("entry")]),this._v(" 配置移到较低的级别并按页面进行管理。要使用脚本进行测试，请设置另一个入口点：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/another.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"./main.css"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" component "),n("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"./component"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" demoComponent "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("component")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"Another"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\ndocument"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("body"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("appendChild")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("demoComponent"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" commonConfig "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    output"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),n("span",{attrs:{class:"token comment"}},[t._v("// Needed for code splitting to work in nested paths")]),t._v("\n      publicPath"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"/"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\nmodule"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mode "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// const pages = [")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v('//   parts.page({ title: "Webpack demo" }),')]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v('//   parts.page({ title: "Another demo", path: "another" }),')]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// ];")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pages "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Webpack demo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        app"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Another demo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"another"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        another"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"another.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    mode "),n("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" productionConfig "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" developmentConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" pages"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("page "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v("\n      "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("commonConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" page"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("调整还需要在相关部分进行更改，以便 "),s("code",[this._v("entry")]),this._v(" 包含在配置中：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.parts.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("exports"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('""')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    template "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("resolve")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{attrs:{class:"token string"}},[t._v('"html-webpack-plugin/default_index.ejs"')]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      filename"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("path "),n("span",{attrs:{class:"token operator"}},[t._v("&&")]),t._v(" path "),n("span",{attrs:{class:"token operator"}},[t._v("+")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"/"')]),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v("index.html`")])]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("code",[this._v("/another")]),this._v(" 有相似的修改，展示效果如下：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:n(150),alt:"Another page shows up"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"赞成和反对观点"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#赞成和反对观点","aria-hidden":"true"}},[this._v("#")]),this._v(" 赞成和反对观点")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你构建应用程序（"),s("code",[this._v("npm run build")]),this._v("），你应该找到 "),s("em",[this._v("another/index.html")]),this._v("。 根据生成的代码，你可以进行以下观察：")])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("ul",[n("li",[t._v("很清楚如何在配置中添加更多页面。")]),n("li",[t._v("生成的静态资源直接位于构建根目录下方。页面是一个除外，因为它们由"),n("code",[t._v("HtmlWebpackPlugin")]),t._v("处理，但它们仍然指向根目录下的静态资源。可以用 "),n("em",[t._v("webpack.page.js")]),t._v(" 的形式添加更多抽象，并通过接受公共的页面配置函数来管理路径。")]),n("li",[t._v("记录应该按照每个页面单独写在自己的文件中。目前，写入最后一次成功的配置。上述解决方案可以解决这个问题。")]),n("li",[t._v("像linting和cleaning这样的过程现在运行两次。 "),n("em",[t._v("Targets")]),t._v(" 这章详细的介绍了该问题的解决方案。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"生成多个页面（页面间共享代码）"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#生成多个页面（页面间共享代码）","aria-hidden":"true"}},[this._v("#")]),this._v(" 生成多个页面（页面间共享代码）")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"调整配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调整配置","aria-hidden":"true"}},[this._v("#")]),this._v(" 调整配置")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("需要进行调整以在页面之间共享代码。大多数代码可以保持不变，但将它暴露给webpack的方式必须改变，以便它接收单个配置对象。由于 "),s("code",[this._v("HtmlWebpackPlugin")]),this._v(" 默认选择所有块，因此你必须调整它以仅选取与每个页面相关的块：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\nmodule"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function-variable function"}},[t._v("exports")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" mode "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" pages "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Webpack demo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        app"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      chunks"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token string"}},[t._v('"app"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"manifest"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"vendors~app"')]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    parts"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("page")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      title"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Another demo"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"another"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        another"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"another.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      chunks"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token string"}},[t._v('"another"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"manifest"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"vendors~app"')]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" config "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n    mode "),n("span",{attrs:{class:"token operator"}},[t._v("===")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"production"')]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("?")]),t._v(" productionConfig "),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" developmentConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// return pages.map(page =>")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("//   merge(commonConfig, config, page, { mode })")]),t._v("\n  "),n("span",{attrs:{class:"token comment"}},[t._v("// )")]),t._v("\n  "),n("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("merge")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("commonConfig"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" mode "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("concat")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("pages"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.parts.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("exports"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("page "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('""')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    template "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" require"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("resolve")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n      "),n("span",{attrs:{class:"token string"}},[t._v('"html-webpack-plugin/default_index.ejs"')]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    title"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    chunks"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n    "),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("HtmlWebpackPlugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      chunks"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),n("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n    "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行 "),s("code",[this._v("npm run build")]),this._v(" 脚本命令，你应该注意到与第一个多页构建相比有些不同。不是原来的两个manifest文件，只有一个。由于新的配置，manifest包含对生成的所有包的引用。反过来，特定的entries文件指向manifest的不同部分，manifest根据entry的不同而运行不同的代码。因此不需要多个单独的manifest。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"赞成和反对观点-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#赞成和反对观点-2","aria-hidden":"true"}},[this._v("#")]),this._v(" 赞成和反对观点")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("鉴于配置不再是multi-compiler形式，编译处理可能会更慢。")]),s("li",[this._v("如果不做额外的考虑，如 "),s("code",[this._v("CleanWebpackPlugin")]),this._v(" 之类的插件就无法运行。")]),s("li",[this._v("manifest不是多个，只剩下一个。但结果不是问题，因为entry会根据其设置使用它不同。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"渐进式-web-应用程序"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#渐进式-web-应用程序","aria-hidden":"true"}},[this._v("#")]),this._v(" 渐进式 Web 应用程序")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[this._v("Webpack可用于通过multi-cpmpiler模式生成单独的页面，也可以将所有页面配置包含在一个页面中。")]),s("li",[this._v("multi-compiler配置可以使用外部解决方案并行运行，但是应用构建拆分等技术会更加困难。")]),s("li",[this._v("多页面设置可以修改为 "),s("strong",[this._v("渐进式Web应用程序")]),this._v("。在这种情况下，你可以使用各种webpack技术来提供快速加载并根据需要获取功能的应用程序。这种技术的两种风格都有其自身的优点。")])])}],e=n(0),o=Object(e.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._m(1),t._m(2),n("p",[t._v("使用webpack生成多个页面时，你有以下几种选择：")]),t._m(3),n("p",[t._v("在实践中，你可以从更多的维度着手。例如，你必须为页面提供 i18n 支持。这些想法在基本方法之上发展。")]),t._m(4),t._m(5),t._m(6),n("p",[t._v("要初始化页面，它至少应该接收页面标题、输出路径和可选的模板。每个页面都应该接收可选的输出路径和用于自定义的模板。这个想法的建模可参考下面的配置：")]),t._m(7),t._m(8),t._m(9),n("p",[t._v("要将这个想法融入到配置中，它的组合方式必须改变。此外，还需要定义页面。")]),n("p",[t._v("首先，让我们暂时为每个页面重用相同的JavaScript逻辑：")]),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),n("p",[t._v("该文件可以转到自己的目录。这里重用现有代码以显示某些内容。Webpack配置必须指向此文件：")]),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),t._m(22),t._m(23),t._m(24),t._m(25),t._m(26),n("p",[t._v("通过删除multi-compiler模式，可以将方法推向另一个方向 尽管处理这种构建的速度较慢，但它可以实现代码共享和shell。实现shell配置的第一步是重新调整配置，以便它获取页面之间共享的代码。")]),t._m(27),n("p",[t._v("由于使用模式匹配，当前配置可以巧妙地共享代码。页面只有一小部分代码不同，它们的manifest和构建包会根据entries配置来生成。")]),n("p",[t._v("在更复杂的应用程序中，你应该跨页面应用 "),n("a",{attrs:{href:"https://lvzhenbang.github.io/webpack-book/dist/zh/building/02_bundle_splitting.html",target:"_blank",rel:"noopener noreferrer"}},[n("em",[t._v("构建拆分")]),n("OutboundLink")],1),t._v(" ，书中专门有一章介绍这个技术。因此，删除multi-compiler模式是值得的。")]),t._m(28),t._m(29),t._m(30),t._m(31),n("p",[t._v("指定页面的配置也需要做一些小的调整：")]),t._m(32),t._m(33),t._m(34),t._m(35),n("p",[t._v("与之前的方法相比，获得了一些东西，但也丢失了一些：")]),t._m(36),t._m(37),n("p",[t._v("如果通过将其与代码拆分和智能路由相结合来进一步推动这一想法，你将最终实现渐进式Web应用程序（PWA）的理念。[webpack-pwa]（https://github.com/webpack/webpack-pwa）示例说明了如何通过app shell或页面shell使用webpack实现该方法。")]),n("p",[t._v("App shell在初始化的时候加载，它管理整个应用程序，包括其路由。页面shell更精细，并且在使用应用程序时会加载更多内容。在这种情况下，应用程序的总大小更大。相反，你可以更快地加载初始内容。")]),n("p",[t._v("PWA与[offline-plugin]（https://www.npmjs.com/package/offline-plugin）和[sw-precache-webpack-plugin]等插件完美结合（https://www.npmjs.com/package/sw-precache-webpack-plugin）。使用[Service Worker]（https://developer.mozilla.org/en/docs/Web/API/Service_Worker_API）并改善离线体验。")]),n("blockquote",[n("p",[n("a",{attrs:{href:"https://developers.google.com/web/showcase/2017/twitter",target:"_blank",rel:"noopener noreferrer"}},[t._v("Twitter"),n("OutboundLink")],1),t._v(" 和 "),n("a",{attrs:{href:"https://medium.com/@addyosmani/a-tinder-progressive-web-app-performance-case-study-78919d98ece0",target:"_blank",rel:"noopener noreferrer"}},[t._v("Tinder"),n("OutboundLink")],1),t._v(" 案例研究说明了PWA方法如何提升用户体验。")])]),t._m(38),n("p",[t._v("Webpack允许你管理多个页面设置。PWA方法允许应用程序在使用时加载，webpack允许实现它。")]),n("p",[t._v("内容回顾：")]),t._m(39),n("p",[t._v("在下一章中，将详细的介绍如何实现服务端渲染（SSR）。")])])},a,!1,null,null,null);o.options.__file="02_multiple_pages.md";s.default=o.exports}}]);