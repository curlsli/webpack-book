(window.webpackJsonp=window.webpackJsonp||[]).push([[108],{243:function(t,s,n){"use strict";n.r(s);var a=n(0),e=Object(a.a)({},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"content"},[t._m(0),t._m(1),n("p",[t._v("这个问题可以通过推动endpoint的翻译和动态加载它们来解决。这样做还可以让你在应用程序中实现页面翻译，使翻译人员，甚至是用户能够翻译应用程序。这种方法的缺点是，你有一个翻译的后端来维护。")]),n("p",[t._v("另一种方法是让webpack生成每种语言的静态构建。问题是每次翻译更改时都必须更新应用程序。")]),t._m(2),n("p",[t._v("i18n与webpack的基本思想是一样的。你有一个转换定义，然后通过替换映射到应用程序。结果包含应用程序的翻译版本。你可以使用以下几种解决方案：")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/i18n-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("i18n-webpack-plugin"),n("OutboundLink")],1),t._v(" 依赖于纯JSON定义，并通过"),n("code",[t._v("__（“Hello”）")]),t._v("占位符进行替换。\n*[po-loader](https://www.npmjs.com/package/po-loader）映射[GNU gettext PO文件]（https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html）到多种格式，包括原始JSON和[Jed]（https://messageformat.github.io/Jed/）。")]),n("li",[t._v("[jed-webpack-plugin]（https://www.npmjs.com/package/jed-webpack-plugin）是一个基于插件的Jed解决方案。")]),n("li",[t._v("[globalize-webpack-plugin] (https://www.npmjs.com/package/globalize-webpack-plugin) 补充[globalize] (https://www.npmjs.com/package/globalize) 以实现i18n/l10n目的。")])]),t._m(3),t._m(4),n("p",[t._v("为了使翻译有效，请设置要替换的内容：")]),t._m(5),t._m(6),n("p",[t._v("要将其翻译成芬兰语，请添加如下定义：")]),t._m(7),t._m(8),n("p",[t._v("下一步是使用webpack将文件整合到一起。")]),t._m(9),t._m(10),t._m(11),t._m(12),n("p",[t._v("在webpack中，你应该遍历可用的语言，然后为每个语言设置配置：")]),t._m(13),t._m(14),n("p",[t._v("为方便构建，可以设置快捷方式：")]),t._m(15),t._m(16),t._m(17),n("p",[t._v("要做更复杂的项目，请按照 "),n("a",{attrs:{href:"https://lvzhenbang.github.io/webpack-book/dist/zh/output/02_multiple_pages.html#%E5%8F%AF%E8%83%BD%E7%9A%84%E6%96%B9%E6%B3%95",target:"_blank",rel:"noopener noreferrer"}},[n("em",[t._v("构建多页面应用")]),n("OutboundLink")],1),t._v(" 章节中的介绍的为每个翻译生成一个页面，然后添加一个语言选择器。语言定义可以通过webpack的 "),n("code",[t._v("DefinePlugin")]),t._v(" 来处理。用户界面小部件可以依赖于该小部件，并基于页面或目录命名约定来加载语言。")]),n("p",[n("a",{attrs:{href:"https://lvzhenbang.github.io/webpack-book/dist/zh/building/03_code_splitting.html",target:"_blank",rel:"noopener noreferrer"}},[n("em",[t._v("代码分割")]),n("OutboundLink")],1),t._v(" 章节中讨论的技术对i18n有效。你可以定义动态的 "),n("code",[t._v("import")]),t._v(" 来按需加载翻译文件。这样做会解决在其他地方加载和维护翻译的问题。")]),t._m(18),n("p",[t._v("其他webpack方法遵循类似的思想，更灵活，但需要更多的工作。如果你使用基于loader的解决方案，则可以设置拆分点来按需加载语言。")]),n("p",[t._v("内容回顾：")]),t._m(19),n("p",[t._v("在下一章中，介绍与webpack一起使用的各种测试工具和及其配置。")])])},[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"国际化"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#国际化","aria-hidden":"true"}},[this._v("#")]),this._v(" 国际化")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("国际化")]),this._v(" (i18n) 这本身就是一个很大的话题。最广泛的定义与将用户界面转换为其他语言相关。 "),s("strong",[this._v("本地化")]),this._v("（l10n）是一个更具体的术语，它描述了如何使你的应用程序适应特定的区域或市场。 不同的语言环境可以使用相同的语言，但它们仍然具有其习惯，如：日期格式或度量。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"webpack中使用i18n"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#webpack中使用i18n","aria-hidden":"true"}},[this._v("#")]),this._v(" webpack中使用i18n")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在项目中，引用 "),s("em",[this._v("i18n-webpack-plugin")]),this._v(" 是一个很好的开端。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"创建一个demo"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#创建一个demo","aria-hidden":"true"}},[this._v("#")]),this._v(" 创建一个demo")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("app/i18n.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("__")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"Hello world"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("languages/fi.json")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token property"}},[t._v('"Hello world"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Terve maailma"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("要让ESLint知道全局 "),s("code",[this._v("__")]),this._v(" 函数，你应该通过 "),s("code",[this._v("globals .__：true")]),this._v(" 将它添加到你的linting规则中。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"使用-i18nwebpackplugin"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#使用-i18nwebpackplugin","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用 "),s("code",[this._v("I18nWebpackPlugin")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("首先，安装 "),s("em",[this._v("i18n-webpack-plugin")]),this._v(" 和 "),s("em",[this._v("glob")]),this._v(" 依赖。后者是捕获翻译文件所必需的。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" glob i18n-webpack-plugin --save-dev\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.i18n.js")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"path"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" glob "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"glob"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" I18nPlugin "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"i18n-webpack-plugin"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  build"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"i18n-build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  i18nDemo"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"app"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"i18n.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("TRANSLATIONS")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" language"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"en"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("concat")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  glob"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("sync")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"./languages/*.json"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    language"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("basename")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("extname")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    translation"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("TRANSLATIONS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" language"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" translation "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    index"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("i18nDemo"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`[name].")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("language"),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v(".js`")])]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("I18nPlugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("translation"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("package.json")])])},function(){var t=this,s=t.$createElement,n=t._self._c||s;return n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"build:i18n"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"webpack --config webpack.i18n.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ...\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("执行 "),s("code",[this._v("npm run build：i18n")]),this._v(" 脚本命令，你将得到一个新目录，其中包含两个翻译文件和每个翻译过的代码。")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this.$createElement,s=this._self._c||t;return s("ul",[s("li",[s("strong",[this._v("国际化")]),this._v("（i18n）和"),s("strong",[this._v("本地化")]),this._v("（l10n）是你的应用面向多个市场时，需要解决的重要问题。")]),s("li",[this._v("Webpack支持多种i18n解决方案。尽管可以使用更复杂的替代方案，但作为起点，你可以替换特定注释。")]),s("li",[this._v("可以通过将其推送到服务器来处理该问题。它还允许你通过相同的API处理实际应用程序的转换。")])])}],!1,null,null,null);e.options.__file="03_i18n.md";s.default=e.exports}}]);