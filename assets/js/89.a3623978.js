(window.webpackJsonp=window.webpackJsonp||[]).push([[89],{191:function(t,a,s){"use strict";s.r(a);var n=s(0),e=Object(n.a)({},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"content"},[t._m(0),s("p",[t._v("HTTP/1应用程序因为加载大量的小静态资源而变得运行缓慢，这是因为每个请求都会带来开销。\nHTTP/2在针对上面的情况做出了改进，并在一定程度上改变了这种情况。你曾经也会为使用那一种解决方案而感到困扰，下面Webpack允许其中的一些。")]),s("p",[t._v("Webpack 可以使用 url-loader 实现静态资源的内联。它将你的图片资源以base64格式的字符串形式打包到js中。虽然这种处理方式可以减小请求的次数，但是它增加了打包生成文件的大小。url-loader在开发模式下足够用了，但是在生产模式下你需要考虑是用其它的loader。\nWebpack提供了对内联过程的控制，并可以延迟加载到file-loader。file-loader输出图像文件并返回路径，而不是内联。这种技术适用于其他资产类型，如：字体。你将在后面的章节中看到。")]),t._m(1),s("p",[t._v("从开发模式来说，url-loader是一个完美的选择，因为你不必关心结果包的大小。它有一个限制选项，可用于当图片超过限制后将图像生成交给file-loader。通过这种方式，你可以将小文件内联到JavaScript包中，而为较大的文件生成单独的文件。")]),s("p",[t._v("如果使用limit选项，则需要将url-loader和file-loader安装到项目中。假如你已经正确配置了它们，webpack将解析你的样式中所包含的任何url()语法，也可以你通过JavaScript代码引用的图像资源。")]),s("p",[t._v("如果使用了limit选项，url-loader会将这个选项传递给file-loader，从而可以进一步配置它的行为。")]),s("p",[t._v("如果 .jpg 和 .png 类型的文件小于25kB需要内联， 你可以添加这样的配置loader：")]),t._m(2),t._m(3),t._m(4),s("p",[t._v("如果你想直接跳过内联这个步骤，你可以直接使用file-loader。它支持自定义文件名和路径。默认情况下，file-loader返回原始的文件扩展名和文件内容的MD5哈希值，具体使用可参考下面的配置：")]),t._m(5),t._m(6),t._m(7),t._m(8),s("p",[t._v("可以将上面想法的封装成一个函数，添加的配置文件中。")]),t._m(9),t._m(10),t._m(11),t._m(12),t._m(13),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),s("p",[t._v("Webpack 可以使用"),s("a",{attrs:{href:"https://github.com/webpack/webpack/issues/595",target:"_blank",rel:"noopener noreferrer"}},[t._v("两种方法"),s("OutboundLink")],1),t._v(" 加载 SVGs。然而最简单的方法是用 "),s("em",[t._v("file-loader")]),t._v(" ，配置如下：")]),t._m(20),s("p",[t._v("如果上面的配置是正确的，你可以在css代码中引入svg，像下面这样：")]),t._m(21),s("p",[t._v("也可以考虑使用下面的loader：")]),s("ul",[s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/raw-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("raw-loader"),s("OutboundLink")],1),t._v(" 可以访问 SVG 内容。")]),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/svg-inline-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("svg-inline-loader"),s("OutboundLink")],1),t._v(" 可以更进一步的实现清除SVG内的不必要的标记。")]),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/svg-sprite-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("svg-sprite-loader"),s("OutboundLink")],1),t._v(" 可以将多张svg合成为一张雪碧图。它也支持 "),s("em",[t._v(".jpg")]),t._v(" 和 "),s("em",[t._v(".png")]),t._v(" 格式图片的处理。")]),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/svg-url-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("svg-url-loader"),s("OutboundLink")],1),t._v(" 把 SVGs 用UTF-8格式编码为data-URI，这样静态资源更小，且比base64架加载更快。")]),s("li",[s("a",{attrs:{href:"https://www.npmjs.com/package/react-svg-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("react-svg-loader"),s("OutboundLink")],1),t._v(" 可以在React中以 "),s("code",[t._v("<Image width={50} height={50}/>")]),t._v(" 格式的代码引入svg，然后渲染它。")])]),t._m(22),t._m(23),s("p",[t._v("你可以使用 "),s("a",{attrs:{href:"https://www.npmjs.com/package/image-webpack-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("image-webpack-loader"),s("OutboundLink")],1),t._v("，"),s("a",{attrs:{href:"https://www.npmjs.com/package/svgo-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("svgo-loader"),s("OutboundLink")],1),t._v(" (SVG specific)，或 "),s("a",{attrs:{href:"https://www.npmjs.com/package/imagemin-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("imagemin-webpack-plugin"),s("OutboundLink")],1),t._v(" 来压缩图片。这种类型的 loader 被首先用来改变数据，所以你应该把它放在 "),s("code",[t._v("use")]),t._v(" 列表的最后位置。")]),s("p",[t._v("它在生产中很有意义，因为它可以减小请求静态资源的带宽，因此可以起到加速你的站点或应用程序的启动。")]),t._m(24),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/resize-image-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("resize-image-loader"),s("OutboundLink")],1),t._v(" 和 "),s("a",{attrs:{href:"https://www.npmjs.com/package/responsive-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("responsive-loader"),s("OutboundLink")],1),t._v(" 允许你生成 "),s("code",[t._v("srcset")]),t._v(" 兼容现代浏览器的图片集合。"),s("code",[t._v("srcset")]),t._v(" 为浏览器提供了更多的控制，可以控制加载什么图像，以及在什么情况下可以获得更高的性能")]),t._m(25),s("p",[t._v("Webpack 允许在某个条件下动态的加载图片。这个技术包括 "),s("em",[t._v("Code Splitting")]),t._v(" 和 "),s("em",[s("a",{attrs:{href:"https://lvzhenbang.github.io/webpack-book/dist/zh/techniques/01_dynamic_loading.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Dynamic Loading"),s("OutboundLink")],1)]),t._v(" 。这样做可以节省带宽，图片可以等到需要的时候在加载，或者在你有时间的时候预先加载它们。")]),t._m(26),t._m(27),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/webpack-spritesmith",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-spritesmith"),s("OutboundLink")],1),t._v(" 可以转换图片成一张雪碧图，伴随生成一个 Sass/Less/Stylus 样式文件。你可以添加 "),s("code",[t._v("SpritesmithPlugin")]),t._v(" 配置，然后指定目标图片组，你也可以指定生成的mixin名称，然后你可以像下面这样引用样式：")]),t._m(28),t._m(29),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/image-trace-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("image-trace-loader"),s("OutboundLink")],1),t._v(" 可以加载图片，然后暴露"),s("code",[t._v("image/svg+xml")]),t._v(" 这样的URL编码数据。它可以跟 "),s("em",[t._v("file-loader")]),t._v(" 和 "),s("em",[t._v("url-loader")]),t._v(" 一起使用，当真正的图片加载前，使用这一个占位符。")]),s("p",[s("a",{attrs:{href:"https://www.npmjs.com/package/lqip-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("lqip-loader"),s("OutboundLink")],1),t._v(" 实现了相似的功能。它实现的是一个模糊效果的图片，而不是一个占位图片。")]),t._m(30),s("p",[t._v("有的时候只得到一张图片的引用是不够的。 "),s("a",{attrs:{href:"https://www.npmjs.com/package/image-size-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("image-size-loader"),s("OutboundLink")],1),t._v(" 不仅返回图片的引用，还返回图片的 dimensions、type、size信息。")]),t._m(31),t._m(32),t._m(33),s("p",[t._v("如果你在使用React，并且项目中引入了 "),s("a",{attrs:{href:"https://www.npmjs.com/package/babel-plugin-transform-react-jsx-img-import",target:"_blank",rel:"noopener noreferrer"}},[t._v("babel-plugin-transform-react-jsx-img-import"),s("OutboundLink")],1),t._v(" 插件，"),s("code",[t._v("require")]),t._v(" 会自动生成，在这样的情况下，你可以像下面这样引入图片：")]),t._m(34),s("p",[t._v("你也可以配置动态引入图片，在 "),s("em",[s("a",{attrs:{href:"https://lvzhenbang.github.io/webpack-book/dist/zh/building/03_code_splitting.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Code Splitting"),s("OutboundLink")],1)]),t._v(" 这章将详细介绍。下面是个小例子：")]),t._m(35),t._m(36),s("p",[t._v("如果你正在使用图片且在 "),s("em",[t._v("css-loader")]),t._v(" 中开启了 "),s("code",[t._v("sourceMap")]),t._v(" 功能，这时你需要设置 "),s("code",[t._v("output.publicPath")]),t._v(" 为一个指明开发服务器的绝对值。否则，图片将没有效果，可查看 "),s("a",{attrs:{href:"https://github.com/webpack/style-loader/issues/55",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack issue"),s("OutboundLink")],1),t._v(" 去进一步了解问题。")]),t._m(37),s("p",[t._v("Webpack 可以根据打包的需要来实现图片的内联。根据实际的需求设置内联的限制条件。你需要在构建包的大小和请求次数之间做权衡。")]),s("p",[t._v("内容回顾：")]),t._m(38),s("p",[t._v("在下一章中，你将学习使用webpack加载字体。")])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"加载-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载-images","aria-hidden":"true"}},[this._v("#")]),this._v(" 加载 Images")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"配置-url-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-url-loader","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 "),a("em",[this._v("url-loader")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  test"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token regex"}},[t._v("/\\.(jpg|png)$/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  use"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loader"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"url-loader"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      limit"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("25000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("如果在达到限制时，而你喜欢使用非file-loader的loader，你可以设置调用该loader,然后webpack会执行它，而不是一定要用file-loader。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"配置-file-loader"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#配置-file-loader","aria-hidden":"true"}},[this._v("#")]),this._v(" 配置 "),a("em",[this._v("file-loader")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  test"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token regex"}},[t._v("/\\.(jpg|png)$/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  use"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    loader"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"file-loader"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      name"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"[path][name].[hash].[ext]"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("如果你想要将图片输出到指定的目录中，可以修改 "),a("code",[this._v("options.name")]),this._v(" 为 "),a("code",[this._v('name: "./images/[hash].[ext]"')]),this._v(" 。")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("blockquote",[s("p",[t._v("注意 "),s("code",[t._v("file-loader")]),t._v(" 和 "),s("code",[t._v("url-loader")]),t._v(" 不能是并列的关系，要么只是用两者中其中一个，要么是嵌套关系。如果 "),s("em",[t._v("url-loader")]),t._v(" 的 "),s("code",[t._v("limit")]),t._v(" 的不能满足使用，可以选择使用 "),s("code",[t._v("include")]),t._v(" 字段。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"将-images-集成到项目中"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将-images-集成到项目中","aria-hidden":"true"}},[this._v("#")]),this._v(" 将 Images 集成到项目中")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("首先添加 "),a("code",[this._v("file-loader")]),this._v(" 和 "),a("code",[this._v("url-loader")]),this._v(" 依赖：")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),a("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" file-loader url-loader --save-dev\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("在 "),a("strong",[this._v("webpack.parts.js")]),this._v(" 中，添加一个如下面所示的配置函数：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[t._v("exports"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function-variable function"}},[t._v("loadImages")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" include"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exclude"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" options "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  module"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    rules"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n        test"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token regex"}},[t._v("/\\.(png|jpg)$/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        include"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        exclude"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        use"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          loader"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"url-loader"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          options"),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("p",[t._v("在 "),s("strong",[t._v("webpack.config.js")]),t._v(" 中，引入上面的配置函数。在开发模式下，只使用 "),s("em",[t._v("url-loader")]),t._v(" ，而在生产模式下，引入 "),s("em",[t._v("url-loader")]),t._v(" 和 "),s("em",[t._v("file-loader")]),t._v(" 。当添加了 "),s("code",[t._v("limit")]),t._v(" 选项， "),s("em",[t._v("url-loader")]),t._v(" 会隐式的使用 "),s("em",[t._v("file-loader")]),t._v("，所以为了是配置起作用，你需要同时安装这两个loader。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" productionConfig "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("merge")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  parts"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("loadImages")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    options"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      limit"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token number"}},[t._v("15000")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      name"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"[name].[ext]"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" developmentConfig "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("merge")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),s("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  parts"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),s("span",{attrs:{class:"token function"}},[t._v("loadImages")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("为了测试配置的工作情况，下载或生成一个图片("),a("code",[this._v("convert -size 100x100 gradient:blue logo.png")]),this._v(")，然后再项目中引用它。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("src/main.css")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{attrs:{class:"token selector"}},[t._v("body")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v("background")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" cornsilk"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v("background-image")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token url"}},[t._v('url("./logo.png")')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v("background-repeat")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" no-repeat"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  "),s("span",{attrs:{class:"token property"}},[t._v("background-position")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" center"),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("具体的操作方式取决于 "),a("code",[this._v("limit")]),this._v(" 的配置。如果在配置值之下，则内联这张图片，否则就生成一张图片和图片存在的路径。这个查找工作取决于 "),a("em",[this._v("css-loader")]),this._v("。你也可以在js代码中引入一张图片，然后看看发生了什么。")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"加载-svgs"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载-svgs","aria-hidden":"true"}},[this._v("#")]),this._v(" 加载 SVGs")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  test"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token regex"}},[t._v("/\\.svg$/")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  use"),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"file-loader"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-css extra-class"},[s("pre",{pre:!0,attrs:{class:"language-css"}},[s("code",[s("span",{attrs:{class:"token selector"}},[t._v(".icon")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n   "),s("span",{attrs:{class:"token property"}},[t._v("background-image")]),s("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),s("span",{attrs:{class:"token url"}},[t._v('url("../assets/icon.svg")')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("blockquote",[a("p",[this._v("你可以仍然使用 "),a("em",[this._v("url-loader")]),this._v(" ，但要注意 SVGs 的处理。")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"优化-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#优化-images","aria-hidden":"true"}},[this._v("#")]),this._v(" 优化 Images")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"启用-srcset"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#启用-srcset","aria-hidden":"true"}},[this._v("#")]),this._v(" 启用 "),a("code",[this._v("srcset")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"动态加载-images"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#动态加载-images","aria-hidden":"true"}},[this._v("#")]),this._v(" 动态加载 Images")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"加载雪碧图（sprites）"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#加载雪碧图（sprites）","aria-hidden":"true"}},[this._v("#")]),this._v(" 加载雪碧图（Sprites）")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Spriting")]),this._v(" 允许你将多张小图片合成一张大图。它过去常被用在游戏的动画上，在web开发上也可以用来减少请求的次数。")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-scss extra-class"},[s("pre",{pre:!0,attrs:{class:"language-scss"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("@import")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"~sprite.sass"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token selector"}},[t._v(".close-button ")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("sprite")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$close")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),s("span",{attrs:{class:"token selector"}},[t._v(".open-button ")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{attrs:{class:"token function"}},[t._v("sprite")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token variable"}},[t._v("$open")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"使用占位符"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#使用占位符","aria-hidden":"true"}},[this._v("#")]),this._v(" 使用占位符")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"getting-image-dimensions"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#getting-image-dimensions","aria-hidden":"true"}},[this._v("#")]),this._v(" Getting Image Dimensions")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"images-的引用"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#images-的引用","aria-hidden":"true"}},[this._v("#")]),this._v(" Images 的引用")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("如果 Webpack 配置使用了 "),a("em",[this._v("css-loader")]),this._v(" ，那么它可以在样式中通过 "),a("code",[this._v("@import")]),this._v(" 和 "),a("code",[this._v("url()")]),this._v(" 来获取图片。你也可以在你的js代码中引入图片，这时你需要像下面例子中那样引入并使用图片：")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" src "),s("span",{attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"./avatar.png"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),s("span",{attrs:{class:"token comment"}},[t._v("// Use the image in your code somehow now")]),t._v("\n"),s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token function-variable function"}},[t._v("Profile")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("img src"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("src"),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),s("span",{attrs:{class:"token function-variable function"}},[t._v("Profile")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("<")]),t._v("img src"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"avatar.png"')]),t._v(" "),s("span",{attrs:{class:"token operator"}},[t._v("/")]),s("span",{attrs:{class:"token operator"}},[t._v(">")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" src "),s("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),s("span",{attrs:{class:"token function"}},[t._v("require")]),s("span",{attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{attrs:{class:"token template-string"}},[s("span",{attrs:{class:"token string"}},[t._v("`./avatars/")]),s("span",{attrs:{class:"token interpolation"}},[s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("avatar"),s("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),s("span",{attrs:{class:"token string"}},[t._v("`")])]),s("span",{attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("`"),s("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"images-and-css-loader-source-map-gotcha"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#images-and-css-loader-source-map-gotcha","aria-hidden":"true"}},[this._v("#")]),this._v(" Images and "),a("em",[this._v("css-loader")]),this._v(" Source Map Gotcha")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"总结"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("ul",[s("li",[s("em",[t._v("url-loader")]),t._v(" 将静态资源内敛到JavaScript。它由一个 "),s("code",[t._v("limit")]),t._v(" 选项可以实现将静态资源延迟传递给 "),s("em",[t._v("file-loader")]),t._v(" 。")]),s("li",[s("em",[t._v("file-loader")]),t._v(" 输出图片静态资源，并返回给js代码一个路径信息。它允许内静态资源的名字中注入hash（文件内容的MD5 hash，所以每个图片都有一个唯一的hash）。")]),s("li",[t._v("你可以使用与图片优化相关的 loaders 和 plugins 来进一步调整图片的大小。")]),s("li",[t._v("将一些小图片生成一个 "),s("strong",[t._v("sprite sheets")]),t._v(" 来减少请求次数。")]),s("li",[t._v("Webpack 允许你在某一条件下，动态的加载图片。")]),s("li",[t._v("如果你要使用source-maps，你需要设置 "),s("code",[t._v("output.publicPath")]),t._v(" 为一个绝对值，这样图片才能正常展示。")])])}],!1,null,null,null);e.options.__file="02_images.md";a.default=e.exports}}]);