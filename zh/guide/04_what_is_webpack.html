<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Webpack是什么 | webpack surviveJS</title>
    <meta name="description" content="webpack SruriveJS">
    
    
    <link rel="preload" href="/webpack-book/assets/css/styles.e618464b.css" as="style"><link rel="preload" href="/webpack-book/assets/js/app.e618464b.js" as="script"><link rel="preload" href="/webpack-book/assets/js/77.17ce9bc3.js" as="script"><link rel="prefetch" href="/webpack-book/assets/js/39.4de3484e.js"><link rel="prefetch" href="/webpack-book/assets/css/1.styles.45cc87d3.css"><link rel="prefetch" href="/webpack-book/assets/js/1.45cc87d3.js"><link rel="prefetch" href="/webpack-book/assets/js/2.4a0e8edb.js"><link rel="prefetch" href="/webpack-book/assets/js/3.4c05f671.js"><link rel="prefetch" href="/webpack-book/assets/js/4.c00bb4bb.js"><link rel="prefetch" href="/webpack-book/assets/js/5.6026fd36.js"><link rel="prefetch" href="/webpack-book/assets/js/6.3ddb0710.js"><link rel="prefetch" href="/webpack-book/assets/js/7.13be0be2.js"><link rel="prefetch" href="/webpack-book/assets/js/8.ab685c7d.js"><link rel="prefetch" href="/webpack-book/assets/js/9.4ec307e6.js"><link rel="prefetch" href="/webpack-book/assets/js/10.ce93540e.js"><link rel="prefetch" href="/webpack-book/assets/js/11.d07f2433.js"><link rel="prefetch" href="/webpack-book/assets/js/12.78921a69.js"><link rel="prefetch" href="/webpack-book/assets/js/13.3af73d6e.js"><link rel="prefetch" href="/webpack-book/assets/js/14.51d8e1c3.js"><link rel="prefetch" href="/webpack-book/assets/js/15.2478f68d.js"><link rel="prefetch" href="/webpack-book/assets/js/16.a1674f2e.js"><link rel="prefetch" href="/webpack-book/assets/js/17.08cb5d47.js"><link rel="prefetch" href="/webpack-book/assets/js/18.63a9d4ee.js"><link rel="prefetch" href="/webpack-book/assets/js/19.6ec78de6.js"><link rel="prefetch" href="/webpack-book/assets/js/20.448e928e.js"><link rel="prefetch" href="/webpack-book/assets/js/21.8aed75ba.js"><link rel="prefetch" href="/webpack-book/assets/js/22.442c5d65.js"><link rel="prefetch" href="/webpack-book/assets/js/23.ecb39720.js"><link rel="prefetch" href="/webpack-book/assets/js/24.f53b1026.js"><link rel="prefetch" href="/webpack-book/assets/js/25.91fac79b.js"><link rel="prefetch" href="/webpack-book/assets/js/26.f65132e8.js"><link rel="prefetch" href="/webpack-book/assets/js/27.78edbc75.js"><link rel="prefetch" href="/webpack-book/assets/js/28.7030a8db.js"><link rel="prefetch" href="/webpack-book/assets/js/29.c6fc4663.js"><link rel="prefetch" href="/webpack-book/assets/js/30.2cb421b5.js"><link rel="prefetch" href="/webpack-book/assets/js/31.575d8f9a.js"><link rel="prefetch" href="/webpack-book/assets/js/32.589855e2.js"><link rel="prefetch" href="/webpack-book/assets/js/33.bcbf13b9.js"><link rel="prefetch" href="/webpack-book/assets/js/34.0901960e.js"><link rel="prefetch" href="/webpack-book/assets/js/35.77530cbe.js"><link rel="prefetch" href="/webpack-book/assets/js/36.6ca51425.js"><link rel="prefetch" href="/webpack-book/assets/js/37.e4f9173d.js"><link rel="prefetch" href="/webpack-book/assets/js/38.711f68a2.js"><link rel="prefetch" href="/webpack-book/assets/js/40.93ecfec2.js"><link rel="prefetch" href="/webpack-book/assets/js/41.207dedbe.js"><link rel="prefetch" href="/webpack-book/assets/js/42.7e2cbeb1.js"><link rel="prefetch" href="/webpack-book/assets/js/43.0a66033e.js"><link rel="prefetch" href="/webpack-book/assets/js/44.2e0f0bc1.js"><link rel="prefetch" href="/webpack-book/assets/js/45.7897a16a.js"><link rel="prefetch" href="/webpack-book/assets/js/46.573f427b.js"><link rel="prefetch" href="/webpack-book/assets/js/47.5a6cf832.js"><link rel="prefetch" href="/webpack-book/assets/js/48.2ae652cf.js"><link rel="prefetch" href="/webpack-book/assets/js/49.c1decf35.js"><link rel="prefetch" href="/webpack-book/assets/js/50.cb0ab30d.js"><link rel="prefetch" href="/webpack-book/assets/js/51.61c5bb22.js"><link rel="prefetch" href="/webpack-book/assets/js/52.9418d1bd.js"><link rel="prefetch" href="/webpack-book/assets/js/53.8fb3b3af.js"><link rel="prefetch" href="/webpack-book/assets/js/54.0b373f02.js"><link rel="prefetch" href="/webpack-book/assets/js/55.11cdb808.js"><link rel="prefetch" href="/webpack-book/assets/js/56.d30a62d6.js"><link rel="prefetch" href="/webpack-book/assets/js/57.80db98c6.js"><link rel="prefetch" href="/webpack-book/assets/js/58.170008c8.js"><link rel="prefetch" href="/webpack-book/assets/js/59.b8d33f82.js"><link rel="prefetch" href="/webpack-book/assets/js/60.bad2a4c0.js"><link rel="prefetch" href="/webpack-book/assets/js/61.8502ded7.js"><link rel="prefetch" href="/webpack-book/assets/js/62.2388773f.js"><link rel="prefetch" href="/webpack-book/assets/js/63.fd2ae4b4.js"><link rel="prefetch" href="/webpack-book/assets/js/64.e4a18972.js"><link rel="prefetch" href="/webpack-book/assets/js/65.1c6f2207.js"><link rel="prefetch" href="/webpack-book/assets/js/66.5ba4de03.js"><link rel="prefetch" href="/webpack-book/assets/js/67.6e5a522b.js"><link rel="prefetch" href="/webpack-book/assets/js/68.c3000811.js"><link rel="prefetch" href="/webpack-book/assets/js/69.df6a6b01.js"><link rel="prefetch" href="/webpack-book/assets/js/70.1e6f5177.js"><link rel="prefetch" href="/webpack-book/assets/js/71.9a00df76.js"><link rel="prefetch" href="/webpack-book/assets/js/72.ea1b395f.js"><link rel="prefetch" href="/webpack-book/assets/js/73.c8734858.js"><link rel="prefetch" href="/webpack-book/assets/js/74.24597070.js"><link rel="prefetch" href="/webpack-book/assets/js/75.b38bb75c.js"><link rel="prefetch" href="/webpack-book/assets/js/76.64d5107c.js"><link rel="prefetch" href="/webpack-book/assets/js/78.c1d50222.js"><link rel="prefetch" href="/webpack-book/assets/js/79.42c031ab.js"><link rel="prefetch" href="/webpack-book/assets/js/80.c83603fe.js"><link rel="prefetch" href="/webpack-book/assets/js/81.9dca7a45.js"><link rel="prefetch" href="/webpack-book/assets/js/82.bea2f876.js"><link rel="prefetch" href="/webpack-book/assets/js/83.5277ed35.js"><link rel="prefetch" href="/webpack-book/assets/js/84.9c43366f.js"><link rel="prefetch" href="/webpack-book/assets/js/85.2c3ed690.js"><link rel="prefetch" href="/webpack-book/assets/js/86.6ae8c813.js"><link rel="prefetch" href="/webpack-book/assets/js/87.790cef71.js"><link rel="prefetch" href="/webpack-book/assets/js/88.050a6bb5.js"><link rel="prefetch" href="/webpack-book/assets/js/89.a3623978.js"><link rel="prefetch" href="/webpack-book/assets/js/90.d72c8f89.js"><link rel="prefetch" href="/webpack-book/assets/js/91.b4c756d6.js"><link rel="prefetch" href="/webpack-book/assets/js/92.6e7255a5.js"><link rel="prefetch" href="/webpack-book/assets/js/93.ce39d5f0.js"><link rel="prefetch" href="/webpack-book/assets/js/94.81c4e5dd.js"><link rel="prefetch" href="/webpack-book/assets/js/95.6ffc2716.js"><link rel="prefetch" href="/webpack-book/assets/js/96.856815bd.js"><link rel="prefetch" href="/webpack-book/assets/js/97.c833f49f.js"><link rel="prefetch" href="/webpack-book/assets/js/98.6d8bae1f.js"><link rel="prefetch" href="/webpack-book/assets/js/99.4227e9fd.js"><link rel="prefetch" href="/webpack-book/assets/js/100.43748c66.js"><link rel="prefetch" href="/webpack-book/assets/js/101.7308ef4d.js"><link rel="prefetch" href="/webpack-book/assets/js/102.28698397.js"><link rel="prefetch" href="/webpack-book/assets/js/103.0ce8a887.js"><link rel="prefetch" href="/webpack-book/assets/js/104.3c76608e.js"><link rel="prefetch" href="/webpack-book/assets/js/105.26a54f8e.js"><link rel="prefetch" href="/webpack-book/assets/js/106.fd8b2560.js"><link rel="prefetch" href="/webpack-book/assets/js/107.67a9bbb3.js"><link rel="prefetch" href="/webpack-book/assets/js/108.a0674454.js"><link rel="prefetch" href="/webpack-book/assets/js/109.d32767db.js"><link rel="prefetch" href="/webpack-book/assets/js/110.832d1487.js"><link rel="prefetch" href="/webpack-book/assets/js/111.76840d88.js">
    <link rel="stylesheet" href="/webpack-book/assets/css/styles.e618464b.css"><link rel="stylesheet" href="/webpack-book/assets/css/1.styles.45cc87d3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div><a href="/webpack-book/" class="home-link router-link-active"><!----><span class="site-name">
      webpack surviveJS
    </span></a><div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""><!----></div><nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/zh/guide/04_what_is_webpack.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/" class="nav-link">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header><div class="sidebar-mask"></div><div class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">选择语言</span><span class="arrow right"></span></a><ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----><a href="/webpack-book/zh/guide/04_what_is_webpack.html" class="nav-link router-link-exact-active router-link-active">简体中文</a></li><li class="dropdown-item"><!----><a href="/webpack-book/en/" class="nav-link">English</a></li></ul></div></div><a href="https://github.com/lvzhenbang/webpack-book" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav><ul class="sidebar-links"><li><a href="/webpack-book/" class="sidebar-link">简介</a></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading open"><span>指南</span><span class="arrow down"></span></p><ul class="sidebar-group-items"><li><a href="/webpack-book/zh/guide/01_foreword.html" class="sidebar-link">前序</a></li><li><a href="/webpack-book/zh/guide/02_preface.html" class="sidebar-link">前言</a></li><li><a href="/webpack-book/zh/guide/03_introduction.html" class="sidebar-link">介绍</a></li><li><a href="/webpack-book/zh/guide/04_what_is_webpack.html" class="active sidebar-link">Webpack是什么</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#webpack为模块化的文件而存在" class="sidebar-link">Webpack为模块化的文件而存在</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#webpack的执行过程" class="sidebar-link">Webpack的执行过程</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#webpack是配置驱动型的工具" class="sidebar-link">Webpack是配置驱动型的工具</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#带hash的静态资源" class="sidebar-link">带hash的静态资源</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#热交换" class="sidebar-link">热交换</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#代码分离" class="sidebar-link">代码分离</a></li><li class="sidebar-sub-header"><a href="/webpack-book/zh/guide/04_what_is_webpack.html#总结" class="sidebar-link">总结</a></li></ul></li><li><a href="/webpack-book/zh/guide/05_developing.html" class="sidebar-link">开发</a></li><li><a href="/webpack-book/zh/guide/06_styling.html" class="sidebar-link">样式</a></li><li><a href="/webpack-book/zh/guide/07_loading.html" class="sidebar-link">加载静态资源</a></li><li><a href="/webpack-book/zh/guide/08_building.html" class="sidebar-link">构建（打包）</a></li><li><a href="/webpack-book/zh/guide/09_optimizing.html" class="sidebar-link">优化</a></li><li><a href="/webpack-book/zh/guide/10_output.html" class="sidebar-link">输出</a></li><li><a href="/webpack-book/zh/guide/11_techniques.html" class="sidebar-link">技术</a></li><li><a href="/webpack-book/zh/guide/12_extending.html" class="sidebar-link">扩展</a></li><li><a href="/webpack-book/zh/guide/13_conclusion.html" class="sidebar-link">总结</a></li><li><a href="/webpack-book/zh/guide/14_appendices.html" class="sidebar-link">附录</a></li></ul></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>开发</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>样式</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>加载静态资源</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>构建</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>优化</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>输出</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>技术</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>扩展</span><span class="arrow right"></span></p><!----></div></li><li><div class="sidebar-group collapsable"><p class="sidebar-heading"><span>附录</span><span class="arrow right"></span></p><!----></div></li></ul></div><div class="page"><div class="content"><h1 id="webpack是什么"><a href="#webpack是什么" aria-hidden="true" class="header-anchor">#</a> Webpack是什么</h1><p>Webpack是一个 <strong>模块化打包工具</strong>。Webpack可以像单任务运行工具一样的打包功能。可是，由于Webpack社区提供的插件使打包工具和任务运行工具间的区别变得模糊起来。有时这些插件执行webpack之外的任务，例如：清除打包生成目录或发布打包生成目录文件到服务器。</p><p>React和 <strong>热交换</strong> (HMR) 使webpack流行起来。webpack也可以被用在其他开发环境中, 如： <a href="https://github.com/rails/webpacker" target="_blank" rel="noopener noreferrer">Ruby on Rails<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。与名字无关，webpack不仅仅只用在Web中，它可以有不同的打包对象, 具体的将在 <em>构造对象</em> 章节来讲。</p><blockquote><p>如果你想要更为详细的理解构造工具和它们的历史，可以在 <em>构造工具的比较</em> 这个附录中查找。</p></blockquote><h2 id="webpack为模块化的文件而存在"><a href="#webpack为模块化的文件而存在" aria-hidden="true" class="header-anchor">#</a> Webpack为模块化的文件而存在</h2><p>用Webpack打包一个项目，至少需要 <strong>input</strong> 和 <strong>output</strong> 两部分。打包从用户定义的 <strong>entries</strong> 开始（项目所有模块文件入口）。可以是 <strong>模块</strong> 它们本来的名字，也可以是用 <strong>imports</strong> 导入模块后，模块的别名。</p><p>当你用webpack打包一个项目时，它遍历所有的引入模块后，形成一个项目的 <strong>依赖关系图</strong> ，然后根据配置经行 <strong>输出</strong>。此外, 根据定义的 <strong>分离节点</strong> 来生成分离模块。</p><p>Webpack支持 ES2015，CommonJS 和 AMD 的模块引入语法。<strong>loader</strong> 中的 <em>css-loader</em> 能很好的处理css，支持 <code>@import</code> 和 <code>url()</code> 的语法引入css模块。你也可以用插件来完成指定的功能，如：压缩，国际化, HMR等等。</p><blockquote><p>依赖关系图用来描述各个模块节点间的关系。这里关系图的定义是通过文件间的引用 (<code>require</code>, <code>import</code>)来定义的。Webpack静态的遍历项目中的模块文件来生成关系图，而不执行这些模块文件。</p></blockquote><h2 id="webpack的执行过程"><a href="#webpack的执行过程" aria-hidden="true" class="header-anchor">#</a> Webpack的执行过程</h2><p><img src="/webpack-book/assets/img/webpack-process.538c4af0.png" alt="Webpack的执行过程"></p><p>Webpack从 <strong>entries</strong> 开始工作。通常这些入口通常是JavaScript模块，webpack在这些模块里执行遍历过程。在这个过程中, webpack计算入口匹配的 <strong>loader</strong> ，然后这个 <strong>loader</strong> 的配置告诉webpack如何进行转换。</p><h3 id="解析过程"><a href="#解析过程" aria-hidden="true" class="header-anchor">#</a> 解析过程</h3><p>入口它自身就是一个模块。当webpack遇到一个模块时，webpack用入口的 <code>resolve</code> 配置来匹配文件系统。除了 <em>node_modules</em> 目录外，你可以为webpack指定任意的遍历目录。 webpack派出了匹配文件扩展名的方式, 你可以为目录定义别名。<em>NPM依赖</em> 这章将有详细的介绍。</p><p>如果webpack解析遇到失败，将报一个运行时错误。如果webpack解析模块正确，webpack将根据loader的配置来匹配模块。每个loader只对特定模块的内容进行转换。</p><p>loader匹配解析后的模块的配置方式有多种，包括模块（文件）和的类型和在文件系统中的位置。webpack甚至允许你根据模块从项目中的引入位置来对其转换模块。</p><p>webpack的loader执行相同的解析过程。Webpack允许你在决定使用哪个loader时应用类似的逻辑。由于这个原因，loader有自己的配置。如果webpack未能执行loader查找，它将引发一个运行时错误。</p><blockquote><p>为了实现解析目的, webapck依赖 <a href="https://www.npmjs.com/package/enhanced-resolve" target="_blank" rel="noopener noreferrer">增强的 <code>resolve</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></blockquote><h3 id="webpack可以解析任何类型的文件"><a href="#webpack可以解析任何类型的文件" aria-hidden="true" class="header-anchor">#</a> Webpack可以解析任何类型的文件</h3><p>Webpack将解析它在构建依赖关系图时遇到的每个模块。如果入口包含依赖项，则递归地对每个依赖执行该流程，直到遍历完成为止。Webpack可以对任何文件类型执行解析，不像Babel或Sass编译器这样的专用工具。</p><p>Webpack让你可以处理遇到的各种静态资源，如：你可以用 <strong>内联的形式</strong> 将静态资源放到JavaScript包（最终生成的文件）中来减少请求。Webpack还允许使用CSS模块这样的技术将样式与组件相结合，并避免出现标准的CSS样式问题。正是这种灵活性使得webpack更有价值。</p><p>虽然webpack主要用于打包JavaScript，但是它也可以捕获像图篇、字体这样的静态资源，然后将它们最终的打包文件中分离出来形成单独的文件。入口是打包这个过程的起点，输出的内容取决于你的配置。</p><h3 id="评估过程"><a href="#评估过程" aria-hidden="true" class="header-anchor">#</a> 评估过程</h3><p>假设所有的loader被找到，webpack依次通过每个loader运行模块时，从底部到顶部，从右到左（<code>styleLoader(cssLoader('./main.css'))</code>）评估匹配的loader。最终，你得到Webpack注入到 <strong>bundle</strong> 的结果。<em>loader 定义</em> 这章节将详细介绍这一块儿。</p><p>如果所有loader评估过程中没有出现运行时错误，Webpack将把所有的文件打包到一个文件中（包）。<strong>Plugins</strong> 允许你在打包过程的不同阶段拦截 <strong>runtime events</strong> 。</p><p>虽然loader可以做很多工作，但它们不能提供足够的动力来完成高级任务。插件可以拦截webpack应用的 <strong>runtime events</strong>。一个很好的例子是当 <code>MiniCssExtractPlugin</code> 与loader一起使用时，分离css到独立的文件中。如果没有这个步骤，CSS将被内嵌在生成的JavaScript中，因为webpack默认将所有代码视为JavaScript。在 <em>分离CSS</em> 这章中将介绍‘提取’思想。</p><h3 id="输出"><a href="#输出" aria-hidden="true" class="header-anchor">#</a> 输出</h3><p>每个模块被评估过之后，webpack将执行 <strong>output</strong>。输出包含一个启动脚本（bundle.js）和一个 manifest（它用来描述在浏览器中，启动脚本应该如何运行。manifest可以独立出来形成一个文件，本书将稍后进行讲解。构建目标不同输出也将不同(web不是唯一的选择。</p><p>这不是打包过程的全部内容。例如，你可以定义特定的 <strong>分割点</strong> ，webpack可以根据应用的逻辑生成不同的打包文件。这个思想将在 <em>代码分离</em> 这章中讲解。</p><h2 id="webpack是配置驱动型的工具"><a href="#webpack是配置驱动型的工具" aria-hidden="true" class="header-anchor">#</a> Webpack是配置驱动型的工具</h2><p>At its core, webpack relies on configuration. 这个例子被 <a href="https://webpack.js.org/get-started/" target="_blank" rel="noopener noreferrer">webpack官方指南<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>采纳，包含如下几个配置项:</p><p><strong>webpack.config.js</strong></p><div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">const</span> webpack <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&quot;webpack&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 打包开始位置</span>
  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    app<span class="token punctuation">:</span> <span class="token string">&quot;./entry.js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 输出位置</span>
  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// 输出到根目录</span>
    path<span class="token punctuation">:</span> __dirname<span class="token punctuation">,</span>

    <span class="token comment">// 捕获入口的名字，并使用它</span>
    filename<span class="token punctuation">:</span> <span class="token string">&quot;[name].js&quot;</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 定义如何处理所有遇到的的引入模块</span>
  module<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    rules<span class="token punctuation">:</span> <span class="token punctuation">[</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.css$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token string">&quot;style-loader&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;css-loader&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">{</span>
        test<span class="token punctuation">:</span> <span class="token regex">/\.js$/</span><span class="token punctuation">,</span>
        use<span class="token punctuation">:</span> <span class="token string">&quot;babel-loader&quot;</span><span class="token punctuation">,</span>
        exclude<span class="token punctuation">:</span> <span class="token regex">/node_modules/</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>

  <span class="token comment">// 执行额外的处理</span>
  plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>
    <span class="token keyword">new</span> <span class="token class-name">webpack<span class="token punctuation">.</span>DefinePlugin</span><span class="token punctuation">(</span><span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>

  <span class="token comment">// 根据 Resolution algorithm 定义模块别名</span>
  resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
    alias<span class="token punctuation">:</span> <span class="token punctuation">{</span> <span class="token operator">...</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>有时Webpack的配置模型会让人感觉有点不透明，因为配置文件看起来像是一个整体，除非你知道webpack背后的原理，否则很难理解它在做什么。本书存在的主要目的之一，是提供调整配置的方法。</p><h2 id="带hash的静态资源"><a href="#带hash的静态资源" aria-hidden="true" class="header-anchor">#</a> 带hash的静态资源</h2><p>用webpack，你可以为每一个包名注入一个hash(如, <em>app.d587bbd6.js</em>) ，去校验客户端的报是否有效。在理想的情况下，<code>包分离</code> （一个大的压缩文件分成几个小的压缩文件） 允许客户端之家在一小部分数据。</p><h2 id="热交换"><a href="#热交换" aria-hidden="true" class="header-anchor">#</a> 热交换</h2><p>你可能已经熟悉一些工具，如<a href="http://livereload.com/" target="_blank" rel="noopener noreferrer">LiveReload<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 或 <a href="http://www.browsersync.io/" target="_blank" rel="noopener noreferrer">BrowserSync<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。这些工具在你修改代码时会自动刷新浏览器。 <em>热交换</em> (HMR) 则更进一步。在React中，它允许应用程序在不强制刷新的情况下保持其状态。虽然这听起来并无特别之处，但实际上却大不相同。</p><p>HMR也可以在Browserify中通过 <a href="https://github.com/milankinen/livereactload" target="_blank" rel="noopener noreferrer">livereactload<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> 来实现，因此他不是webpack所独有的。</p><h2 id="代码分离"><a href="#代码分离" aria-hidden="true" class="header-anchor">#</a> 代码分离</h2><p>除了HMR之外，webpack还有其他很多功能。Webpack允许你用不同的方式来分割代码。甚至当你的程序执行时，可以实现动态加载，这种懒加载因为可以根据需要动态加载，所以广泛的应用在应用程序中。</p><p>即使是小型应用程序也可以从代码分割这种技术中收益，因为它允许用户更快的获得可用的东西。抛开性能这个性不讲，了解基本的技术也是不错的。</p><h2 id="总结"><a href="#总结" aria-hidden="true" class="header-anchor">#</a> 总结</h2><p>虽然Webpack的学习曲线比较陡峭，但是从长远角度来看，它是一个值得学习的工具，会节省不少开发的时间和精力。要了解它与其他工具的不同，可以查看<a href="https://webpack.js.org/comparison/" target="_blank" rel="noopener noreferrer">官方的对比<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p><p>Webpack并不能解决所有的问题，但是他确实解决了打包的问题。这减少了一个开发过程中的的担忧。使用 <em>package.json</em> 和 webpack 本身就可以让你的变成之路走的更远。</p><p>综上所述:</p><ul><li>Webpack是一个 <strong>module bundler</strong>，但你也可以用它来运行任务。</li><li>Webpack依赖于 <strong>依赖图</strong> 工作。Webpack遍历所有的源文件生成依赖图，然后它根据这个依赖图结合配置来生成最终的文件。</li><li>Webpack依赖 <strong>loaders</strong> 和 <strong>plugins</strong>。Loaders操作的是模块；plugins依赖webpack提供的钩子，并能很好的访问它的执行过程。</li><li>Webpack的 <strong>configuration</strong> 描述了如何转换图形这样的静态资源，以及它应该如何输出。部分配置信息引入原类型的静态资源，如：<strong>code splitting</strong> 这样的功能被引入。</li><li><strong>Hot Module Replacement</strong> (HMR) 使webpack流行开来。这个功能可以在浏览器中更新代码，而不需要刷新整个页面，极大地增强了开发体验 。</li><li>Webpack可以生成文件的同时生成一个 <strong>hashes</strong> ，当文件的内容发生改变时，这个对应的hashes也将发生变化。</li></ul><p>在书的下一部分，你将学习如何使用webpack构建开发配置，同时了解更多关于它的基本概念。</p><blockquote><p>如果你还不明白为什么需要打包工具——webpack, 可阅读<a href="http://tinselcity.net/whys/packers" target="_blank" rel="noopener noreferrer">我为什么用webpack<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>。</p></blockquote></div><div class="page-edit"><div class="edit-link"><a href="https://github.com/lvzhenbang/webpack-book/edit/dev/docs/zh/guide/04_what_is_webpack.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div><!----></div><div class="page-nav"><p class="inner"><span class="prev">
        ← <a href="/webpack-book/zh/guide/03_introduction.html" class="prev">
          介绍
        </a></span><span class="next"><a href="/webpack-book/zh/guide/05_developing.html">
          开发
        </a> →
      </span></p></div></div></div></div>
    <script src="/webpack-book/assets/js/77.17ce9bc3.js" defer></script><script src="/webpack-book/assets/js/app.e618464b.js" defer></script>
  </body>
</html>
