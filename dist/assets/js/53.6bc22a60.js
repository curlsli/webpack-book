(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{230:function(t,a,n){"use strict";n.r(a);var s=n(0),e=Object(s.a)({},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"content"},[t._m(0),t._m(1),n("p",[t._v("The problem could be solved by pushing the translations behind an endpoint and loading them dynamically to decouple the issue from webpack. Doing this would also allow you to implement a translation interface within your application to enable your translators, or even users, to translate the application. The downside of this approach is that then you have a translation backend to maintain.")]),n("p",[t._v("Another approach is to let webpack generate static builds, each per language. The problem is that you have to update your application each time your translations change.")]),t._m(2),n("p",[t._v("The basic idea of i18n with webpack is often the same. You have a translation definition that is then mapped to the application through replacements. The result contains a translated version of the application. You can use multiple translation formats through a couple of solutions:")]),n("ul",[n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/i18n-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("i18n-webpack-plugin"),n("OutboundLink")],1),t._v(" relies on a pure JSON definition and performs the replacement through "),n("code",[t._v('__("Hello")')]),t._v(" placeholders.")]),n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/po-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("po-loader"),n("OutboundLink")],1),t._v(" maps "),n("a",{attrs:{href:"https://www.gnu.org/software/gettext/manual/html_node/PO-Files.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("GNU gettext PO files"),n("OutboundLink")],1),t._v(" to multiple formats including raw JSON and "),n("a",{attrs:{href:"https://messageformat.github.io/Jed/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Jed"),n("OutboundLink")],1),t._v(".")]),n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/jed-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("jed-webpack-plugin"),n("OutboundLink")],1),t._v(" is a plugin-based solution for Jed.")]),n("li",[n("a",{attrs:{href:"https://www.npmjs.com/package/globalize-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("globalize-webpack-plugin"),n("OutboundLink")],1),t._v(" complements "),n("a",{attrs:{href:"https://www.npmjs.com/package/globalize",target:"_blank",rel:"noopener noreferrer"}},[t._v("globalize"),n("OutboundLink")],1),t._v(" for i18n/l10n purposes.")])]),t._m(3),t._m(4),n("p",[t._v("To prove that translation works, set up something to replace:")]),t._m(5),t._m(6),n("p",[t._v("To translate that into Finnish, set up a definition:")]),t._m(7),t._m(8),n("p",[t._v("The next step is to glue the files together using webpack.")]),t._m(9),n("p",[t._v("{pagebreak}")]),t._m(10),t._m(11),t._m(12),n("p",[t._v("On the webpack side, you should iterate through the available languages, and then set up a configuration for each:")]),t._m(13),t._m(14),n("p",[t._v("To make it convenient to build, set a shortcut:")]),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),n("p",[t._v("{pagebreak}")]),t._m(20),n("p",[t._v("The other webpack approaches follow a similar idea and are more flexible but require more work. If you go with a loader based solution, then you can set up split points to load languages on demand.")]),n("p",[t._v("To recap:")]),t._m(21),n("p",[t._v("The next chapter covers various testing setups and tools that work with webpack.")])])},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"internationalization"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#internationalization","aria-hidden":"true"}},[this._v("#")]),this._v(" Internationalization")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("Internationalization")]),this._v(" (i18n) is a big topic by itself. The broadest definition has to do with translating your user interface to other languages. "),a("strong",[this._v("Localization")]),this._v(" (l10n) is a more specific term, and it describes how to adapt your application to a particular locale or market. Different locales can have the same language, but they still have their customs, like date formatting or measures.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"i18n-with-webpack"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#i18n-with-webpack","aria-hidden":"true"}},[this._v("#")]),this._v(" i18n with Webpack")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To illustrate the setup, "),a("em",[this._v("i18n-webpack-plugin")]),this._v(" is a good starting point.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"setting-up-a-project"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-a-project","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting Up a Project")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("app/i18n.js")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[t._v("console"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("log")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token function"}},[t._v("__")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"Hello world"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("languages/fi.json")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),n("span",{attrs:{class:"token property"}},[t._v('"Hello world"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"Terve maailma"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("T> To make ESLint aware of the global "),a("code",[this._v("__")]),this._v(" function, you should add it to your linting rules through "),a("code",[this._v("globals.__: true")]),this._v(".")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"setting-up-i18nwebpackplugin"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-i18nwebpackplugin","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting Up "),a("code",[this._v("I18nWebpackPlugin")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Install "),a("em",[this._v("i18n-webpack-plugin")]),this._v(" and "),a("em",[this._v("glob")]),this._v(" helper first. The latter is needed for capturing translation files.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),a("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" glob i18n-webpack-plugin --save-dev\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("webpack.i18n.js")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"language-javascript extra-class"},[n("pre",{pre:!0,attrs:{class:"language-javascript"}},[n("code",[n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"path"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" glob "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"glob"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" I18nPlugin "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"i18n-webpack-plugin"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  build"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"i18n-build"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  i18nDemo"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("join")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"app"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"i18n.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),n("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("TRANSLATIONS")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" language"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"en"')]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("concat")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("\n  glob"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("sync")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token string"}},[t._v('"./languages/*.json"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    language"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("basename")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" path"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("extname")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    translation"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token function"}},[t._v("require")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("file"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nmodule"),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("exports "),n("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("TRANSLATIONS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),n("span",{attrs:{class:"token function"}},[t._v("map")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" language"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" translation "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),n("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  entry"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    index"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("i18nDemo"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  output"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    path"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),n("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("build"),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    filename"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token template-string"}},[n("span",{attrs:{class:"token string"}},[t._v("`[name].")]),n("span",{attrs:{class:"token interpolation"}},[n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),t._v("language"),n("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),n("span",{attrs:{class:"token string"}},[t._v(".js`")])]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  plugins"),n("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("[")]),n("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),n("span",{attrs:{class:"token class-name"}},[t._v("I18nPlugin")]),n("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("translation"),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v("]")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(")")]),n("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[a("strong",[this._v("package.json")])])},function(){var t=this,a=t.$createElement,n=t._self._c||a;return n("div",{staticClass:"language-json extra-class"},[n("pre",{pre:!0,attrs:{class:"language-json"}},[n("code",[n("span",{attrs:{class:"token property"}},[t._v('"scripts"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),n("span",{attrs:{class:"token property"}},[t._v('"build:i18n"')]),n("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),n("span",{attrs:{class:"token string"}},[t._v('"webpack --config webpack.i18n.js"')]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  ...\n"),n("span",{attrs:{class:"token punctuation"}},[t._v("}")]),n("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("If you build now ("),a("code",[this._v("npm run build:i18n")]),this._v("), you should end up with a new directory containing two translated files and translated code in each.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("To take the example further, generate a page for each translation as described in the "),a("em",[this._v("Multiple Pages")]),this._v(" chapter and add a language selector. The language definition can be handled through webpack's "),a("code",[this._v("DefinePlugin")]),this._v(". A user interface widget could rely on that and load languages based on a page or directory naming convention.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("The techniques discussed in the "),a("em",[this._v("Code Splitting")]),this._v(" chapter are valid with i18n. You could define dynamic "),a("code",[this._v("import")]),this._v("s to load translation files on demand. Doing this would push the problem of loading and maintaining translations elsewhere.")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"conclusion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#conclusion","aria-hidden":"true"}},[this._v("#")]),this._v(" Conclusion")])},function(){var t=this.$createElement,a=this._self._c||t;return a("ul",[a("li",[a("strong",[this._v("Internationalization")]),this._v(" (i18n) and "),a("strong",[this._v("localization")]),this._v(" (l10n) are important problems if you target multiple markets with your application.")]),a("li",[this._v("Webpack supports multiple approaches to i18n. As a starting point you can replace specific annotations although more sophisticated alternatives are available.")]),a("li",[this._v("The problem can be handled by pushing it to a server. It would also allow you to handle translating the actual application through the same API.")])])}],!1,null,null,null);e.options.__file="03_i18n.md";a.default=e.exports}}]);