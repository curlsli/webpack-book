(window.webpackJsonp=window.webpackJsonp||[]).push([[104],{155:function(t,s){t.exports="data:image/png;base64,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"},179:function(t,s,a){"use strict";a.r(s);var n=[function(){var t=this.$createElement,s=this._self._c||t;return s("h1",{attrs:{id:"清除未用到的css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#清除未用到的css","aria-hidden":"true"}},[this._v("#")]),this._v(" 清除未用到的CSS")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"setting-up-pure-css"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#setting-up-pure-css","aria-hidden":"true"}},[this._v("#")]),this._v(" Setting Up Pure.css")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" purecss --save\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("用 "),s("code",[this._v("import")]),this._v(" 引入 Pure.css ：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/index.js")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-javascript extra-class"},[s("pre",{pre:!0,attrs:{class:"language-javascript"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[this._v("import")]),this._v(" "),s("span",{attrs:{class:"token string"}},[this._v('"purecss"')]),s("span",{attrs:{class:"token punctuation"}},[this._v(";")]),this._v("\n"),s("span",{attrs:{class:"token operator"}},[this._v("...")]),this._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("src/component.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),a("span",{attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Hello world"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" element "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" document"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("createElement")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"div"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  element"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("className "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"pure-button"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n  element"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("innerHTML "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" text"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  "),a("span",{attrs:{class:"token keyword"}},[t._v("return")]),t._v(" element"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("如果你运行 "),s("code",[this._v("npm start")]),this._v(' 脚本命令，你将看到 "Hello world" 具有了按钮的样式。')])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("img",{attrs:{src:a(155),alt:"Styled hello"}})])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("运行 "),s("code",[this._v("npm run build")]),this._v(" 脚本命令，你会看到这样的输出：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Hash: 36bff4e71a3f746d46fa\nVersion: webpack 4.1.1\nTime: 739ms\nBuilt at: 3/16/2018 4:26:49 PM\n     Asset       Size  Chunks             Chunk Names\n   main.js  747 bytes       0  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\n  main.css   16.1 KiB       0  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\nindex.html  220 bytes          "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"启用-purifycss-功能"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启用-purifycss-功能","aria-hidden":"true"}},[this._v("#")]),this._v(" 启用 PurifyCSS 功能")])},function(){var t=this.$createElement,s=this._self._c||t;return s("div",{staticClass:"language-bash extra-class"},[s("pre",{pre:!0,attrs:{class:"language-bash"}},[s("code",[s("span",{attrs:{class:"token function"}},[this._v("npm")]),this._v(" "),s("span",{attrs:{class:"token function"}},[this._v("install")]),this._v(" glob purifycss-webpack purify-css --save-dev\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.parts.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" PurifyCSSPlugin "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"purifycss-webpack"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nexports"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function-variable function"}},[t._v("purifyCSS")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" paths "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  plugins"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("PurifyCSSPlugin")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" paths "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("下一步，合并配置。你要在 "),s("code",[this._v("MiniCssExtractPlugin")]),this._v(" 之后引入purifyCSS，否则它将不工作：")])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[s("strong",[this._v("webpack.config.js")])])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-javascript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" path "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"path"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" glob "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"glob"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" parts "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("require")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"./webpack.parts"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),t._v(" "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  app"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" path"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("join")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("__dirname"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"src"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n\n"),a("span",{attrs:{class:"token keyword"}},[t._v("const")]),t._v(" productionConfig "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("merge")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n  "),a("span",{attrs:{class:"token operator"}},[t._v("...")]),t._v("\n  parts"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("purifyCSS")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    paths"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" glob"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("sync")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token template-string"}},[a("span",{attrs:{class:"token string"}},[t._v("`")]),a("span",{attrs:{class:"token interpolation"}},[a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("${")]),a("span",{attrs:{class:"token constant"}},[t._v("PATHS")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("app"),a("span",{attrs:{class:"token interpolation-punctuation punctuation"}},[t._v("}")])]),a("span",{attrs:{class:"token string"}},[t._v("/**/*.js`")])]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nodir"),a("span",{attrs:{class:"token punctuation"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("样式分离（css-extract-webpack-plugin）必须在样式净化（purifycss-webpack）之前。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("此时，执行 "),s("code",[this._v("npm run build")]),this._v(" 脚本命令，你将看到下面的输出：")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[t._v("Hash: 36bff4e71a3f746d46fa\nVersion: webpack 4.1.1\nTime: 695ms\nBuilt at: 3/16/2018 4:29:54 PM\n     Asset       Size  Chunks             Chunk Names\n   main.js  747 bytes       0  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\n  main.css   2.07 KiB       0  "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("  main\nindex.html  220 bytes          "),a("span",{attrs:{class:"token punctuation"}},[t._v("[")]),t._v("emitted"),a("span",{attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("..")]),t._v(".\n")])])])},function(){var t=this.$createElement,s=this._self._c||t;return s("blockquote",[s("p",[this._v("使用PurifyCSS将会丢弃source-maps，即使你在不同的特定功能的loader中启用了它，这是由PurifyCSS的底层工作机制决定的。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("h3",{attrs:{id:"关键路径渲染"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#关键路径渲染","aria-hidden":"true"}},[this._v("#")]),this._v(" 关键路径渲染")])},function(){var t=this.$createElement,s=this._self._c||t;return s("h2",{attrs:{id:"总结"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#总结","aria-hidden":"true"}},[this._v("#")]),this._v(" 总结")])},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ul",[a("li",[t._v("PurifyCSS可以清除未使用的css。它具有分析静态资源的优势。")]),a("li",[t._v("你可以通过引入 "),a("em",[t._v("purifycss-webpack")]),t._v(" 来开启这个功能。这个插件需要在 "),a("code",[t._v("MiniCssExtractPlugin")]),t._v(" 之后引用。")]),a("li",[t._v("At best, PurifyCSS can eliminate most, if not all, unused CSS rules.")]),a("li",[t._v("关键路径渲染是其他一个css技术。针对above-the-fold的css，它强调首先引入的CSS。它的核心思想是渲染什么，就尽快的加载什么。")])])},function(){var t=this.$createElement,s=this._self._c||t;return s("p",[this._v("在下一章中，你讲了解 "),s("strong",[this._v("autoprefix")]),this._v(" 。启用该特性使开发复杂的CSS设置变得更加方便，这些CSS设置也可用于较老的浏览器。")])}],e=a(0),r=Object(e.a)({},function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[t._m(0),a("p",[t._v("向 "),a("a",{attrs:{href:"https://getbootstrap.com/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Bootstrap"),a("OutboundLink")],1),t._v(" 这样的样式框架，它包含许多css模块。通常你只用一小部分，但是在打包的时候却打包了所有的样式，这时你需要考虑的就是如何清除未应用的样式。")]),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/purifycss",target:"_blank",rel:"noopener noreferrer"}},[t._v("PurifyCSS"),a("OutboundLink")],1),t._v(" 这个工具可以通过分析这些样式文件，实现清除未用样式的目的。它是通过遍历样式代码，来实现找出哪些样式被应用了，但是你需要给它提供足够的信息来清除未应用的样式。")]),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/uncss",target:"_blank",rel:"noopener noreferrer"}},[t._v("uncss"),a("OutboundLink")],1),t._v("是PurifyCSS的一个很好的替代品。它通过PhantomJS进行操作，并以不同的方式来实现清除为应用的样式。可以把uncss作为PostCSS插件使用。")]),a("blockquote",[a("p",[t._v("如果你使用 CSS 模块，你需要小心。你需要 "),a("strong",[t._v("whitelist")]),t._v(" 去建立所有选择起的联系（命名空间），在 "),a("a",{attrs:{href:"https://github.com/webpack-contrib/purifycss-webpack#usage-with-css-modules",target:"_blank",rel:"noopener noreferrer"}},[t._v("purifycss-webpack readme"),a("OutboundLink")],1),t._v(" 有详细说明。")])]),t._m(1),a("p",[t._v("为了让这个demo更具有实际意义，你可以安装 [Pure.css] (http://purecss.io/)，它是一个小的css框架。引入它，然后你就可以看到PurifyCSS到底是如何工作的。尽管名字相似，但它们之间没有什么必然的联系。")]),t._m(2),t._m(3),t._m(4),t._m(5),a("blockquote",[a("p",[t._v("在 "),a("em",[t._v("package.json")]),t._v(" 中的Pure.css文件由于"),a("a",{attrs:{href:"https://webpack.js.org/configuration/resolve/#resolve-mainfields",target:"_blank",rel:"noopener noreferrer"}},[t._v("resolve.mainFields"),a("OutboundLink")],1),t._v("，会被webpack解析成"),a("code",[t._v('"browser": "build/pure-min.css",')]),t._v("这样的字段，然后import就可以成功的引入 pure.css 。在解析 "),a("code",[t._v("main")]),t._v(" 之前，webpack会尽力解析 "),a("code",[t._v("browser")]),t._v(" 和 "),a("code",[t._v("module")]),t._v(" 字段。")])]),a("p",[t._v("在一个demo组件用使用 Pure.css 类选择器：")]),t._m(6),t._m(7),t._m(8),t._m(9),t._m(10),t._m(11),a("p",[t._v("正如你所看到的，样式文件变得很大，你可以使用 PurifyCSS 去优化它。")]),t._m(12),a("p",[t._v("使用 PurifyCSS 可以让你的css文件变得足够小。pureCSS 和 最小的 Bootstrap（140kb）在项目中的类选择器使用率低于40%，也就是说，你如果使用Bootstrap的话，那么真正有效的样式只占35kb。所以使用PreifyCSS与否差距较大。")]),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/purifycss-webpack",target:"_blank",rel:"noopener noreferrer"}},[t._v("purifycss-webpack"),a("OutboundLink")],1),t._v(" 可以实现类似的效果。你可以在 "),a("code",[t._v("MiniCssExtractPlugin")]),t._v(" 中使用它，从而达到最好的效果。安装 "),a("a",{attrs:{href:"https://www.npmjs.org/package/glob",target:"_blank",rel:"noopener noreferrer"}},[t._v("glob"),a("OutboundLink")],1),t._v(" 作为辅助：")]),t._m(13),a("p",[t._v("实现 PurifyCSS 的效果，首先你需要定义一个接口：")]),t._m(14),t._m(15),t._m(16),t._m(17),t._m(18),t._m(19),t._m(20),t._m(21),a("p",[t._v("样式文件明显减小了，从过去的16k到现在的2k。这对减小引入的css规模很有帮助。")]),a("p",[t._v("PurifyCSS 支持的 "),a("a",{attrs:{href:"https://github.com/purifycss/purifycss#the-optional-options-argument",target:"_blank",rel:"noopener noreferrer"}},[t._v("其他配置项"),a("OutboundLink")],1),t._v(" ，也包括 "),a("code",[t._v("minify")]),t._v(" ，你可以在插件实例化时添加 "),a("code",[t._v("minimize: true")]),t._v(" 配置项去启用它，默认是关闭的。 因为PurifyCSS不能处理你所用的所有类选择器，所以你可以考虑使用 "),a("code",[t._v("Options.whitelist")]),t._v(" 数组定义了不管什么情况下，都应该保留的类选择器。")]),t._m(22),t._m(23),a("p",[a("a",{attrs:{href:"https://developers.google.com/web/fundamentals/performance/critical-rendering-path/",target:"_blank",rel:"noopener noreferrer"}},[t._v("critical path rendering"),a("OutboundLink")],1),t._v(" 这篇文章从不同的角度分析了CSS的性能。它不是讲如何优化文件的大小，而是讲如何优化css文件加载的顺序 它强调了 "),a("strong",[t._v("above-the-fold")]),t._v(" 的 CSS。通过分析显示的页面，然后确定使用哪些规则来得到想要的显示结果。")]),a("p",[a("a",{attrs:{href:"https://www.npmjs.com/package/webpack-critical",target:"_blank",rel:"noopener noreferrer"}},[t._v("webpack-critical"),a("OutboundLink")],1),t._v(" 和 "),a("a",{attrs:{href:"https://www.npmjs.com/package/html-critical-webpack-plugin",target:"_blank",rel:"noopener noreferrer"}},[t._v("html-critical-webpack-plugin"),a("OutboundLink")],1),t._v(" 依赖于 "),a("code",[t._v("HtmlWebpackPlugin")]),t._v("插件来实现这个技术。"),a("a",{attrs:{href:"https://www.npmjs.com/package/isomorphic-style-loader",target:"_blank",rel:"noopener noreferrer"}},[t._v("isomorphic-style-loader"),a("OutboundLink")],1),t._v("  用webpack和React实现相似的结果。")]),a("p",[a("a",{attrs:{href:"https://github.com/addyosmani/critical-path-css-tools",target:"_blank",rel:"noopener noreferrer"}},[t._v("critical-path-css-tools"),a("OutboundLink")],1),t._v(" 是由Addy Osmani整理的工具集。")]),t._m(24),a("p",[t._v("用 PurifyCSS 可以是css文件明显的变小。它的主要价值是针对静态资源站点中引入了一个体积庞大CSS框架的优化。如果是一个动态站点或应用，它分析它们将变得困难起来。")]),a("p",[t._v("内容回顾：")]),t._m(25),t._m(26)])},n,!1,null,null,null);r.options.__file="03_eliminating_unused_css.md";s.default=r.exports}}]);